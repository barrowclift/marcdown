(function(){var e;(e=jQuery).bigfoot=function(t){var o,n,a,i,r,s,l,c,d,f,u,g,h,m,p,v,b,C,y,w,_,k,O,T,x,$,N;return a=void 0,d={actionOriginalFN:"hide",activateCallback:function(){},activateOnHover:!1,allowMultipleFN:!1,anchorPattern:/(fn|footnote|note)[:\-_\d]/gi,anchorParentTagname:"sup",breakpoints:{},deleteOnUnhover:!1,footnoteParentClass:"footnote",footnoteTagname:"li",hoverDelay:250,numberResetSelector:void 0,popoverDeleteDelay:300,popoverCreateDelay:100,positionContent:!0,preventPageScroll:!0,scope:!1,useFootnoteOnlyOnce:!0,contentMarkup:'<aside class="bigfoot-footnote is-positioned-bottom" data-footnote-number="{{FOOTNOTENUM}}" data-footnote-identifier="{{FOOTNOTEID}}" alt="Footnote {{FOOTNOTENUM}}"> <div class="bigfoot-footnote__wrapper"> <div class="bigfoot-footnote__content"> {{FOOTNOTECONTENT}} </div></div> <div class="bigfoot-footnote__tooltip"></div> </aside>',buttonMarkup:'<div class=\'bigfoot-footnote__container\'> <button class="bigfoot-footnote__button" id="{{SUP:data-footnote-backlink-ref}}" data-footnote-number="{{FOOTNOTENUM}}" data-footnote-identifier="{{FOOTNOTEID}}" alt="See Footnote {{FOOTNOTENUM}}" rel="footnote" data-bigfoot-footnote="{{FOOTNOTECONTENT}}"> <svg class="bigfoot-footnote__button__circle" viewbox="0 0 6 6" preserveAspectRatio="xMinYMin"><circle r="3" cx="3" cy="3" fill="white"></circle></svg> <svg class="bigfoot-footnote__button__circle" viewbox="0 0 6 6" preserveAspectRatio="xMinYMin"><circle r="3" cx="3" cy="3" fill="white"></circle></svg> <svg class="bigfoot-footnote__button__circle" viewbox="0 0 6 6" preserveAspectRatio="xMinYMin"><circle r="3" cx="3" cy="3" fill="white"></circle></svg> </button></div>'},O=e.extend(d,t),p={},g=function(){var t,o,n,a,i,r,l,c,d,u,g,h,m,p,v,C,y,_,k;for(u=O.scope?O.scope+' a[href*="#"]':'a[href*="#"]',n=e(u).filter(function(){var t,o;return("null"===(o=(t=e(this)).attr("rel"))||null==o)&&(o=""),(""+t.attr("href")+o).match(O.anchorPattern)&&t.closest("[class*="+O.footnoteParentClass+"]:not(a):not("+O.anchorParentTagname+")").length<1}),v=[],c=[],s(n,m=[]),e(m).each(function(){var t,o;return o=e(this).data("footnote-ref").replace(/[:.+~*\]\[]/g,"\\$&"),O.useFootnoteOnlyOnce&&(o+=":not(.footnote-processed)"),(t=e(o).closest(O.footnoteTagname)).length>0?(v.push(t.first().addClass("footnote-processed")),c.push(this)):void 0}),h=(o=e("[data-footnote-identifier]:last")).length<1?0:+o.data("footnote-identifier"),k=[],C=y=0,_=v.length;_>=0?_>y:y>_;C=_>=0?++y:--y)switch(g=b(e(v[C]).html().trim(),e(c[C]).data("footnote-backlink-ref")),g=g.replace(/"/g,"&quot;").replace(/&lt;/g,"&ltsym;").replace(/&gt;/g,"&gtsym;"),h+=1,d="",r=e(c[C]),l=e(v[C]),null!=O.numberResetSelector?(t=r.closest(O.numberResetSelector),t.is(a)?p+=1:p=1,a=t):p=h,0!==g.indexOf("<")&&(g="<p>"+g+"</p>"),d=O.buttonMarkup.replace(/\{\{FOOTNOTENUM\}\}/g,p).replace(/\{\{FOOTNOTEID\}\}/g,h).replace(/\{\{FOOTNOTECONTENT\}\}/g,g),d=w(d,"SUP",r),d=w(d,"FN",l),e(d).insertBefore(r),i=l.parent(),O.actionOriginalFN.toLowerCase()){case"hide":r.addClass("footnote-print-only"),l.addClass("footnote-print-only"),k.push(f(i));break;case"delete":r.remove(),l.remove(),k.push(f(i));break;default:k.push(r.addClass("footnote-print-only"))}return k},s=function(t,o){var n,a,i;null==o&&(o=[]),n=void 0,a=void 0,i=void 0,t.each(function(){var t,r;return r=e(this),a="#"+r.attr("href").split("#")[1],n=r.closest(O.anchorParentTagname),t=r.find(O.anchorParentTagname),n.length>0?(i=(n.attr("id")||"")+(r.attr("id")||""),o.push(n.attr({"data-footnote-backlink-ref":i,"data-footnote-ref":a}))):t.length>0?(i=(t.attr("id")||"")+(r.attr("id")||""),o.push(r.attr({"data-footnote-backlink-ref":i,"data-footnote-ref":a}))):(i=r.attr("id")||"",o.push(r.attr({"data-footnote-backlink-ref":i,"data-footnote-ref":a})))})},f=function(e){var t;return t=void 0,e.is(":empty")||0===e.children(":not(.footnote-print-only)").length?(t=e.parent(),"delete"===O.actionOriginalFN.toLowerCase()?e.remove():e.addClass("footnote-print-only"),f(t)):e.children(":not(.footnote-print-only)").length===e.children("hr:not(.footnote-print-only)").length?(t=e.parent(),"delete"===O.actionOriginalFN.toLowerCase()?e.remove():(e.children("hr").addClass("footnote-print-only"),e.addClass("footnote-print-only")),f(t)):void 0},b=function(e,t){var o;return t.indexOf(" ")>=0&&(t=t.trim().replace(/\s+/g,"|").replace(/(.*)/g,"($1)")),o=new RegExp("(\\s|&nbsp;)*<\\s*a[^#<]*#"+t+"[^>]*>(.*?)<\\s*/\\s*a>","g"),e.replace(o,"").replace("[]","")},w=function(e,t,o){var n,a,i;for(n=void 0,i=void 0,n=(a=new RegExp("\\{\\{"+t+":([^\\}]*)\\}\\}","g")).exec(e);n;)n[1]&&(i=o.attr(n[1])||"",e=e.replace("{{"+t+":"+n[1]+"}}",i)),n=a.exec(e);return e},i=function(t){var o,n;if(O.activateOnHover){if(n='[data-footnote-identifier="'+(o=e(t.target).closest(".bigfoot-footnote__button")).attr("data-footnote-identifier")+'"]',o.hasClass("is-active"))return;o.addClass("is-hover-instantiated"),O.allowMultipleFN||y(".bigfoot-footnote:not("+n+")"),c(".bigfoot-footnote__button"+n).addClass("is-hover-instantiated")}},T=function(t){var o,n,a;o=(a=e(t.target)).closest(".bigfoot-footnote__button"),n=a.closest(".bigfoot-footnote"),o.length>0?(t.preventDefault(),l(o)):n.length<1&&e(".bigfoot-footnote").length>0&&y()},l=function(e){var t;e.blur(),t='data-footnote-identifier="'+e.attr("data-footnote-identifier")+'"',e.hasClass("changing")||(e.hasClass("is-active")?O.allowMultipleFN?y(".bigfoot-footnote["+t+"]"):y():(e.addClass("changing"),setTimeout(function(){return e.removeClass("changing")},O.popoverCreateDelay),c(".bigfoot-footnote__button["+t+"]"),e.addClass("is-click-instantiated"),O.allowMultipleFN||y(".bigfoot-footnote:not(["+t+"])")))},c=function(t){var o,n;return o=void 0,o="string"!=typeof t&&O.allowMultipleFN?t:"string"!=typeof t?t.first():O.allowMultipleFN?e(t).closest(".bigfoot-footnote__button"):e(t+":first").closest(".bigfoot-footnote__button"),n=e(),o.each(function(){var t,a,i,s;i=e(this),s=void 0;try{return s=O.contentMarkup.replace(/\{\{FOOTNOTENUM\}\}/g,i.attr("data-footnote-number")).replace(/\{\{FOOTNOTEID\}\}/g,i.attr("data-footnote-identifier")).replace(/\{\{FOOTNOTECONTENT\}\}/g,i.attr("data-bigfoot-footnote")).replace(/\&gtsym\;/g,"&gt;").replace(/\&ltsym\;/g,"&lt;"),s=w(s,"BUTTON",i)}finally{t=e(s);try{O.activateCallback(t,i)}catch(e){}t.insertAfter(o),p[i.attr("data-footnote-identifier")]="init",t.attr("bigfoot-max-width",r(t.css("max-width"),t)),t.css("max-width",1e4),a=t.find(".bigfoot-footnote__content"),t.attr("data-bigfoot-max-height",r(a.css("max-height"),a)),_(),i.addClass("is-active"),t.find(".bigfoot-footnote__content").bindScrollHandler(),n=n.add(t)}}),setTimeout(function(){return n.addClass("is-active")},O.popoverCreateDelay),n},n=function(){var e,t;return(e=document.createElement("div")).style.cssText="display:inline-block;padding:0;line-height:1;position:absolute;visibility:hidden;font-size:1em;",e.appendChild(document.createElement("M")),document.body.appendChild(e),t=e.offsetHeight,document.body.removeChild(e),t},r=function(e,t){return"none"===e?e=1e4:e.indexOf("rem")>=0?e=parseFloat(e)*n():e.indexOf("em")>=0?e=parseFloat(e)*parseFloat(t.css("font-size")):e.indexOf("px")>=0?60>=(e=parseFloat(e))&&(e/=parseFloat(t.parent().css("width"))):e.indexOf("%")>=0&&(e=parseFloat(e)/100),e},e.fn.bindScrollHandler=function(){return O.preventPageScroll?(e(this).on("DOMMouseScroll mousewheel",function(t){var o,n,a,i,r,s,l,c;return l=(n=e(this)).scrollTop(),s=n[0].scrollHeight,i=parseInt(n.css("height")),o=n.closest(".bigfoot-footnote"),n.scrollTop()>0&&n.scrollTop()<10&&o.addClass("is-scrollable"),o.hasClass("is-scrollable")?(r=function(){return t.stopPropagation(),t.preventDefault(),t.returnValue=!1,!1},!(c=(a="DOMMouseScroll"===t.type?-40*t.originalEvent.detail:t.originalEvent.wheelDelta)>0)&&-a>s-i-l?(n.scrollTop(s),o.addClass("is-fully-scrolled"),r()):c&&a>l?(n.scrollTop(0),o.removeClass("is-fully-scrolled"),r()):o.removeClass("is-fully-scrolled")):void 0}),e(this)):e(this)},x=function(t){return O.deleteOnUnhover&&O.activateOnHover?setTimeout(function(){return e(t.target).closest(".bigfoot-footnote, .bigfoot-footnote__button"),e(".bigfoot-footnote__button:hover, .bigfoot-footnote:hover").length<1?y():void 0},O.hoverDelay):void 0},u=function(e){return 27===e.keyCode?y():void 0},y=function(t,o){var n,a,i,r;return null==t&&(t=".bigfoot-footnote"),null==o&&(o=O.popoverDeleteDelay),n=e(),r=void 0,a=void 0,i=void 0,e(t).each(function(){return i=e(this),r=i.attr("data-footnote-identifier"),(a=e('.bigfoot-footnote__button[data-footnote-identifier="'+r+'"]')).hasClass("changing")?void 0:(n=n.add(a),a.removeClass("is-active is-hover-instantiated is-click-instantiated").addClass("changing"),i.removeClass("is-active").addClass("disapearing"),setTimeout(function(){return i.remove(),delete p[r],a.removeClass("changing")},o))}),n},_=function(t){var o;O.positionContent&&(o=t?t.type:"resize",e(".bigfoot-footnote").each(function(){var t,n,a,i,r,s,l,c,d,f,u,g,h;return i=(a=e(this)).attr("data-footnote-identifier"),a.find(".bigfoot-footnote__content"),t=a.siblings(".bigfoot-footnote__button"),g=k(t),s=parseFloat(a.css("margin-top")),l=+a.attr("data-bigfoot-max-height"),h=2*s+a.outerHeight(),c=1e4,u=g.bottomRoom<h&&g.topRoom>g.bottomRoom,r=p[i],u?("top"!==r&&(p[i]="top",a.addClass("is-positioned-top").removeClass("is-positioned-bottom"),a.css("transform-origin",100*g.leftRelative+"% 100%")),c=g.topRoom-s-15):(("bottom"!==r||"init"===r)&&(p[i]="bottom",a.removeClass("is-positioned-top").addClass("is-positioned-bottom"),a.css("transform-origin",100*g.leftRelative+"% 0%")),c=g.bottomRoom-s-15),a.find(".bigfoot-footnote__content").css({"max-height":Math.min(c,l)+"px"}),"resize"===o&&(f=parseFloat(a.attr("bigfoot-max-width")),n=a.find(".bigfoot-footnote__wrapper"),d=f,1>=f&&(d=function(){var t,o;return o=1e4,O.maxWidthRelativeTo&&(t=e(O.maxWidthRelativeTo)).length>0&&(o=t.outerWidth()),Math.min(window.innerWidth,o)}()*f),d=Math.min(d,a.find(".bigfoot-footnote__content").outerWidth()+1),n.css("max-width",d+"px"),a.css({left:-g.leftRelative*d+parseFloat(t.css("margin-left"))+t.outerWidth()/2+"px"}),v(a,g.leftRelative)),parseInt(a.outerHeight())<a.find(".bigfoot-footnote__content")[0].scrollHeight?a.addClass("is-scrollable"):void 0}))},v=function(e,t){var o;null==t&&(t=.5),(o=e.find(".bigfoot-footnote__tooltip")).length>0&&o.css("left",100*t+"%")},k=function(e){var t,o,n,a,i,r;return o=parseFloat(e.css("margin-left")),n=parseFloat(e.outerWidth())-o,t=parseFloat(e.outerHeight()),r=N(),i=e.offset().top-r.scrollY+t/2,a=e.offset().left-r.scrollX+n/2,{topRoom:i,bottomRoom:r.height-i,leftRoom:a,rightRoom:r.width-a,leftRelative:a/r.width,topRelative:i/r.height}},N=function(){return{width:window.innerWidth,height:window.innerHeight,scrollX:window.scrollX,scrollY:window.scrollY}},o=function(e,t,o,n,i){var r,s,l,c,d,f;return null==n&&(n=O.popoverDeleteDelay),null==i&&(i=!0),c=void 0,s=void 0,f=void 0,"string"==typeof e?(d=(s=">"===(f="iphone"===e.toLowerCase()?"<320px":"ipad"===e.toLowerCase()?"<768px":e).charAt(0)?"min":"<"===f.charAt(0)?"max":null)?"("+s+"-width: "+f.substring(1)+")":f,c=window.matchMedia(d)):c=e,c.media&&"invalid"===c.media?{added:!1,mq:c,listener:null}:(r="max"===s,t=t||m(i,n,"min"===s,function(e){return e.addClass("is-bottom-fixed")}),o=o||m(i,n,r,function(){}),l=function(e){e.matches?t(i,a):o(i,a)},c.addListener(l),l(c),O.breakpoints[e]={added:!0,mq:c,listener:l},O.breakpoints[e])},m=function(e,t,o,n){return function(e,a){var i;return i=void 0,e&&(i=a.close(),a.updateSetting("activateCallback",n)),setTimeout(function(){return a.updateSetting("positionContent",o),e?a.activate(i):void 0},t)}},C=function(e,t){var o,n,a;if(o=void 0,a=!1,"string"==typeof e)a=void 0!==O.breakpoints[e];else for(o in O.breakpoints)O.breakpoints.hasOwnProperty(o)&&O.breakpoints[o].mq===e&&(a=!0);return a&&(n=O.breakpoints[o||e],t?t({matches:!1}):n.listener({matches:!1}),n.mq.removeListener(n.listener),delete O.breakpoints[o||e]),a},$=function(e,t){var o,n;if(o=void 0,"string"==typeof e)o=O[e],O[e]=t;else for(n in o={},e)e.hasOwnProperty(n)&&(o[n]=O[n],O[n]=e[n]);return o},h=function(e){return O[e]},e(document).ready(function(){return g(),e(document).on("mouseenter",".bigfoot-footnote__button",i),e(document).on("touchend click",T),e(document).on("mouseout",".is-hover-instantiated",x),e(document).on("keyup",u),e(window).on("scroll resize",_),e(document).on("gestureend",function(){return _()})}),a={removePopovers:y,close:y,createPopover:c,activate:c,repositionFeet:_,reposition:_,addBreakpoint:o,removeBreakpoint:C,getSetting:h,updateSetting:$}}}).call(this),$.bigfoot({actionOriginalFN:"ignore",numberResetSelector:"article"}),$.fn.anchor=function(e){var t=$.extend({},{headingClass:"anchored",anchorClass:"anchor",symbol:"¶",maxLength:100},e),o=$(this),n=[];o.each(function(){var e,o=$(this),a=o.text(),i=1;a.length>t.maxLength&&(a=a.substring(0,t.maxLength)),a=function(e){return e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"-").replace(/\s+/g,"-").toLowerCase()}(a),n[a]>=1?e=a+"-"+(i=n[a]+1):e=a,o.addClass(t.headingClass).attr("id",e),o.append('<a class="'+t.anchorClass+'" href="#'+e+'">'+t.symbol+"</a>"),n[a]=i})},function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(e){function t(e){return r.raw?e:encodeURIComponent(e)}function o(e){return r.raw?e:decodeURIComponent(e)}function n(e){return t(r.json?JSON.stringify(e):String(e))}function a(t,o){var n=r.raw?t:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(i," ")),r.json?JSON.parse(e):e}catch(e){}}(t);return e.isFunction(o)?o(n):n}var i=/\+/g,r=e.cookie=function(i,s,l){if(void 0!==s&&!e.isFunction(s)){if("number"==typeof(l=e.extend({},r.defaults,l)).expires){var c=l.expires,d=l.expires=new Date;d.setTime(+d+864e5*c)}return document.cookie=[t(i),"=",n(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var f=i?void 0:{},u=document.cookie?document.cookie.split("; "):[],g=0,h=u.length;h>g;g++){var m=u[g].split("="),p=o(m.shift()),v=m.join("=");if(i&&i===p){f=a(v,s);break}i||void 0===(v=a(v))||(f[p]=v)}return f};r.defaults={},e.removeCookie=function(t,o){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},o,{expires:-1})),!e.cookie(t))}});var is_chrome=navigator.userAgent.indexOf("Chrome")>-1,is_safari=navigator.userAgent.indexOf("Safari")>-1,is_ios_safari=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i),is_opera=navigator.userAgent.toLowerCase().indexOf("op")>-1;function changeAppearance(e){if($(".color-well.light").removeClass("active"),$(".color-well.dark").removeClass("active"),$(".color-well.auto").removeClass("active"),$("menu").css("background-color",""),null==e&&(e=$.cookie("dark-mode")),"light"==e)$.cookie("dark-mode","off"),$("#logo-speech-bubble").text("Hi there! Hope you're having a good day."),document.getElementsByTagName("html")[0].removeAttribute("id"),$(".color-well.light").addClass("active");else if("dark"==e)$.cookie("dark-mode","on"),$("#logo-speech-bubble").text("Stay cool, dude."),document.getElementsByTagName("html")[0].setAttribute("id","dark"),$(".color-well.dark").addClass("active");else{$.cookie("dark-mode","auto");var t=window.matchMedia("(prefers-color-scheme: dark)").matches;$(".color-well.auto").addClass("active"),t?($("#logo-speech-bubble").text("Stay cool, dude."),document.getElementsByTagName("html")[0].setAttribute("id","dark")):($("#logo-speech-bubble").text("Hi there! Hope you're having a good day."),document.getElementsByTagName("html")[0].removeAttribute("id","dark"))}}function settingsClicked(){return $("#settings-checkbox").click(),!1}function settingsToggled(e){document.getElementById("settings-popup").classList.toggle("show");for(var t=document.getElementsByClassName("setting-toggles"),o=0;o<t.length;o++)t[o].classList.toggle("active")}function changeAccentColor(e){$("body").hasClass("ignore-accent-color")||$("html").hasClass(e)||($("html").removeClass("blue"),$("html").removeClass("red"),$("html").removeClass("orange"),$("html").removeClass("yellow"),$("html").removeClass("green"),$("html").removeClass("purple"),$("html").removeClass("pink"),$(".color-well.blue").removeClass("active"),$(".color-well.red").removeClass("active"),$(".color-well.orange").removeClass("active"),$(".color-well.yellow").removeClass("active"),$(".color-well.green").removeClass("active"),$(".color-well.purple").removeClass("active"),$(".color-well.pink").removeClass("active"),$(".color-well."+e).addClass("active"),"blue"==e?$.removeCookie("accent-color"):($("html").addClass(e),$.cookie("accent-color",e)))}is_chrome&&is_safari&&(is_safari=!1),is_chrome&&is_opera&&(is_chrome=!1),is_safari||is_ios_safari?document.getElementsByTagName("html")[0].setAttribute("class","safari"):is_safari||is_ios_safari||is_opera||is_chrome?is_safari||is_ios_safari||is_opera||!is_chrome||document.getElementsByTagName("html")[0].setAttribute("class","chrome"):document.getElementsByTagName("html")[0].setAttribute("class","firefox"),$("img").error(function(){$(this).addClass("failed-to-load")}),$(document).ready(function(){$.cookie.defaults={expires:265,path:"/"},null==$.cookie("dark-mode")&&$.cookie("dark-mode","auto");var e=$.cookie("dark-mode"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;window.matchMedia("(prefers-color-scheme: dark)").addListener(changeAppearance),"on"==e?(document.getElementsByTagName("html")[0].setAttribute("id","dark"),$("#logo-speech-bubble").text("Stay cool, dude."),$(".color-well.dark").addClass("active")):"off"==e?($("#logo-speech-bubble").text("Hi there! Hope you're having a good day."),$(".color-well.light").addClass("active")):($(".color-well.auto").addClass("active"),t?(document.getElementsByTagName("html")[0].setAttribute("id","dark"),$("#logo-speech-bubble").text("Stay cool, dude.")):$("#logo-speech-bubble").text("Hi there! Hope you're having a good day.")),$.cookie("accent-color")&&!document.getElementsByTagName("body")[0].classList.contains("ignore-accent-color")?(document.getElementsByTagName("html")[0].className+=" "+$.cookie("accent-color"),$(".color-well."+$.cookie("accent-color")).addClass("active")):$(".color-well.blue").addClass("active"),$("h2,h3,h4,h5,h6").anchor({symbol:"¶"});for(var o,n=document.getElementsByTagName("pre"),a=0;o=n[a++];){for(var i=o.textContent.split("\n"),r=0,s=0,l=i.length;s<l;s++)""!=i[s]&&(r+=1);1==r&&(o.className+=" wrap")}var c="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?"touchstart":"click";$(document).on(c,function(e){$("#settings-popup").hasClass("show")&&($(e.target).closest("#settings-popup").length||$(e.target).closest("#settings-toggle").length||settingsClicked())})});