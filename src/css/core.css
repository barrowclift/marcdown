/**
 * TABLE OF CONTENTS:
 *   1. Variables
 *   2. Base
 *   3. Headers
 *   4. Lists
 *   5. Tables
 *   6. Tags & Highlighting
 *   7. Typographic Flourishes
 *   8. Admonitions
 *   9. Menubar
 *   10. Cards
 *   11. Flexbox
 *   12. Media
 *   13. Code
 *   14. Footer & Footnotes
 *   15. Show/Hide Switches
 *   16. Buttons
 */


/**********************
 ***  1. VARIABLES  ***
 **********************/

:root {
    /**
     * -------------------
     * Typography & Layout
     * -------------------
     */
    
    --font-size: 14px;
    --h1-size: 2.074em;
    --h2-size: 1.728em;
    --h3-size: 1.44em;
    --h4-size: 1.2em;
    --h5-size: 1em;
    --h6-size: 0.833em;


    /**
     * Base gap setting that all margin/padding values derive from. Increase
     * or decrease to expand or contract the reletive "comfiness" of the site.
     */
    --raw-gap: 1.3;

    --rem-gap: calc(var(--raw-gap) * 1rem);

    --gap: calc(var(--raw-gap) * 1em);
    --gap2: calc(var(--gap) * 2);
    --gap3: calc(var(--gap) * 3);
    --half-gap: calc(var(--gap) / 2);
    --rem-half-gap: calc(var(--rem-gap) / 2);
    --fourth-gap: calc(var(--gap) / 4);
    --three-fourths-gap: calc(calc(var(--half-gap) / 2) + var(--half-gap));

    --body-line-height: 1.45em;
    --header-line-height: var(--h4-size);

    --img-border-radius: 0.5em;

    --clicking-scale: scale(0.975);
    --hover-scale: scale(1.025);

    --cubic-bezier-curve: cubic-bezier(0.165, 0.84, 0.44, 1);
    --cubic-bezier-time: 400ms;
    --cubic-bezier-transition: var(--cubic-bezier-time) var(--cubic-bezier-curve);

    /**
     * ------------------
     * Light Mode Shadows
     * ------------------
     */
    
    --shadow: 0em 1em 2.75em rgba(50, 50, 50, 0.1), 0em 0.22em 0.6em rgba(50, 50, 50, 0.05);
    --hover-shadow: 0em 2em 3.5em rgba(50, 50, 50, 0.15), 0em 0.45em 0.85em rgba(50, 50, 50, 0.1);
    --clicking-shadow: 0em 0.5em 2.2em rgba(50, 50, 50, 0.15), 0em 0.11em 0.36em rgba(50, 50, 50, 0.1);
    --admonition-shadow: 0em 1em 2.75em hsla(var(--accent-hue), var(--widget-saturation), 20%, 0.1), 0em 0.22em 0.6em hsla(var(--accent-hue), var(--widget-saturation), 20%, 0.05);

    /**
     * -----------------
     * Light Mode Colors
     * -----------------
     */
    
    --background-hsl-core: var(--accent-hue), 50%, 99%;
    --background-color: hsl(var(--background-hsl-core));
    --primary-foreground-color: rgba(30, 30, 30, 0.9);
    --heavy-primary-foreground-color: black;
    --secondary-foreground-color: rgba(30, 30, 30, 0.375);
    --heavy-secondary-foreground-color: rgba(30, 30, 30, 0.6);
    
    --widget-background-opacity: 0.975;
    --widget-background-color: hsla(var(--accent-hue), 10%, 93%, var(--widget-background-opacity));
    --widget-saturation: 5%;
    --widget-lightness: 62.5%;
    --widget-border-color: hsla(var(--accent-hue), var(--widget-saturation), var(--widget-lightness), 0.2);

    --code-background-color: hsla(var(--accent-hue), 10%, 93%, var(--widget-background-opacity));
    --code-border-color: var(--widget-border-color);

    --table-header-background-color: var(--code-background-color);
    --table-washboard-even-background-color: var(--code-background-color);
    --table-washboard-odd-background-color: hsla(var(--accent-hue), 10%, 93%, 0.25);

    --bigfoot-popup-border-color: hsl(var(--accent-hue), var(--widget-saturation), 85%);
    
    --admonition-left-border-lightness-adjustment: 10%;
    
    /**
     * For any kind of element or background that can be considered gently
     * "highlighting" its content (.admonition, <mark>, etc.)
     */
    --highlight-background-opacity: 0.1;
    /**
     * For actual text selection background opacity.
     */
    --selection-background-opacity: 0.99;

    /**
     * -------------------
     * Light Accent Colors
     * -------------------
     */

    --accent-hsl-core: var(--accent-hue), var(--accent-saturation), var(--accent-lightness);
    --accent-p3-core: display-p3 var(--accent-r) var(--accent-g) var(--accent-b);
    --accent-color: hsl(var(--accent-hsl-core));
    --accent-p3-color: color(var(--accent-p3-core));

    --graphite-hue: 240;
    --graphite-saturation: 24%;
    --graphite-lightness: 96%;

    --blue-hue: 211;
    --blue-saturation: 100%;
    --blue-lightness: 50%;
    --blue-r: 0;
    --blue-g: 0.47843137;
    --blue-b: 1;
    --blue-hsl-core: var(--blue-hue), var(--blue-saturation), var(--blue-lightness);
    --blue-p3-core: display-p3 var(--blue-r) var(--blue-g) var(--blue-b);
    --blue-color: hsl(var(--blue-hsl-core));
    --blue-p3-color: color(var(--blue-p3-core));

    --red-hue: 3;
    --red-saturation: 100%;
    --red-lightness: 59%;
    --red-r: 1;
    --red-g: 0.23137255;
    --red-b: 0.18823529;
    --red-hsl-core: var(--red-hue), var(--red-saturation), var(--red-lightness);
    --red-p3-core: display-p3 var(--red-r) var(--red-g) var(--red-b);
    --red-color: hsl(var(--red-hsl-core));
    --red-p3-color: color(var(--red-p3-core));

    --orange-hue: 30;
    --orange-saturation: 100%;
    --orange-lightness: 50%;
    --orange-r: 1;
    --orange-g: 0.58431373;
    --orange-b: 0;
    --orange-hsl-core: var(--orange-hue), var(--orange-saturation), var(--orange-lightness);
    --orange-p3-core: display-p3 var(--orange-r) var(--orange-g) var(--orange-b);
    --orange-color: hsl(var(--orange-hsl-core));
    --orange-p3-color: color(var(--orange-p3-core));

    --yellow-hue: 48;
    --yellow-saturation: 90%;
    --yellow-lightness: 50%;
    --yellow-r: 0.94901961;
    --yellow-g: 0.76862745;
    --yellow-b: 0.05882353;
    --yellow-hsl-core: var(--yellow-hue), var(--yellow-saturation), var(--yellow-lightness);
    --yellow-p3-core: display-p3 var(--yellow-r) var(--yellow-g) var(--yellow-b);
    --yellow-color: hsl(var(--yellow-hsl-core));
    --yellow-p3-color: color(var(--yellow-p3-core));

    --green-hue: 130;
    --green-saturation: 60%;
    --green-lightness: 50%;
    --green-r: 0.20392157;
    --green-g: 0.78039216;
    --green-b: 0.34901961;
    --green-hsl-core: var(--green-hue), var(--green-saturation), var(--green-lightness);
    --green-p3-core: display-p3 var(--green-r) var(--green-g) var(--green-b);
    --green-color: hsl(var(--green-hsl-core));
    --green-p3-color: color(var(--green-p3-core));

    --purple-hue: 280;
    --purple-saturation: 68%;
    --purple-lightness: 60%;
    --purple-r: 0.68627451;
    --purple-g: 0.32156863;
    --purple-b: 0.87058824;
    --purple-hsl-core: var(--purple-hue), var(--purple-saturation), var(--purple-lightness);
    --purple-p3-core: display-p3 var(--purple-r) var(--purple-g) var(--purple-b);
    --purple-color: hsl(var(--purple-hsl-core));
    --purple-p3-color: color(var(--purple-p3-core));

    --pink-hue: 322;
    --pink-saturation: 100%;
    --pink-lightness: 64%;
    --pink-r: 1;
    --pink-g: 0.27843137;
    --pink-b: 0.61568627;
    --pink-hsl-core: var(--pink-hue), var(--pink-saturation), var(--pink-lightness);
    --pink-p3-core: display-p3 var(--pink-r) var(--pink-g) var(--pink-b);
    --pink-color: hsl(var(--pink-hsl-core));
    --pink-p3-color: color(var(--pink-p3-core));
}
    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
        :root {
            --widget-background-opacity: 0.85;
        }
    }
    @media(min-width: 700px) {
        :root {
            --font-size: 19px;
        }
    }
    @media(min-width: 900px) {
        :root {
            --font-size: 21px;
        }
    }
:root#dark {
    /**
     * ------------------
     * Dark Mode Shadows
     * ------------------
     */

    --shadow: 0em 1em 2.75em rgba(0, 0, 0, 0.1), 0em 0.22em 0.6em rgba(0, 0, 0, 0.05);
    --hover-shadow: 0em 2em 3.5em rgba(0, 0, 0, 0.35), 0em 0.45em 0.85em rgba(0, 0, 0, 0.2);
    --clicking-shadow: 0em 0.5em 2.2em rgba(0, 0, 0, 0.35), 0em 0.11em 0.36em rgba(0, 0, 0, 0.2);
    --admonition-shadow: 0em 1em 2.75em hsla(var(--accent-hue), var(--widget-saturation), 60%, 0.1), 0em 0.22em 0.6em hsla(var(--accent-hue), var(--widget-saturation), 60%, 0.05);

    /**
     * -----------------
     * Dark Mode Colors
     * -----------------
     */
    
    --background-hsl-core: var(--accent-hue), 15%, 12%;
    --background-color: hsl(var(--background-hsl-core));
    --primary-foreground-color: rgba(255, 255, 255, 0.9);
    --heavy-primary-foreground-color: white;
    --secondary-foreground-color: rgba(255, 255, 255, 0.375);
    --heavy-secondary-foreground-color: rgba(255, 255, 255, 0.6);
    
    --widget-background-color: hsla(var(--accent-hue), 10%, 16%, var(--widget-background-opacity));
    --widget-lightness: 37.5%;

    --code-background-color: hsla(var(--accent-hue), 10%, 7%, var(--widget-background-opacity));
    --code-border-color: hsla(var(--accent-hue), var(--widget-saturation), var(--widget-lightness), 0.3);
    
    --table-header-background-color: hsla(var(--accent-hue), 10%, 20%, 0.5);
    --table-washboard-even-background-color: hsla(var(--accent-hue), 10%, 20%, 0.5);
    --table-washboard-odd-background-color: hsla(var(--accent-hue), 10%, 20%, 0.2);

    --bigfoot-popup-border-color: hsl(var(--accent-hue), var(--widget-saturation), 25%);

    --admonition-left-border-lightness-adjustment: -10%;

    --highlight-background-opacity: 0.15;
    --selection-background-opacity: 0.85;

    /**
     * ------------------
     * Dark Accent Colors
     * ------------------
     */

    --graphite-hue: 240;
    --graphite-saturation: 3%;
    --graphite-lightness: 11%;

    --blue-hue: 210;
    --blue-saturation: 100%;
    --blue-lightness: 52%;
    --blue-r: 0.03921569;
    --blue-g: 0.51764706;
    --blue-b: 1;

    --red-hue: 3;
    --red-saturation: 100%;
    --red-lightness: 61%;
    --red-r: 1;
    --red-g: 0.27058824;
    --red-b: 0.22745098;

    --orange-hue: 36;
    --orange-saturation: 100%;
    --orange-lightness: 52%;
    --orange-r: 1;
    --orange-g: 0.62352941;
    --orange-b: 0.03921569;

    --yellow-hue: 50;
    --yellow-saturation: 100%;
    --yellow-lightness: 52%;
    --yellow-r: 1;
    --yellow-g: 0.83921569;
    --yellow-b: 0.03921569;

    --green-hue: 135;
    --green-saturation: 64%;
    --green-lightness: 50%;
    --green-r: 0.18823529;
    --green-g: 0.81960784;
    --green-b: 0.34509804;

    --purple-hue: 280;
    --purple-saturation: 85%;
    --purple-lightness: 65%;
    --purple-r: 0.74901961;
    --purple-g: 0.35294118;
    --purple-b: 0.94901961;

    --pink-hue: 332;
    --pink-saturation: 91%;
    --pink-lightness: 64%;
    --pink-r: 0.96862745;
    --pink-g: 0.30980392;
    --pink-b: 0.61960784;
}
:root,
.blue {
    --accent-hue: var(--blue-hue);
    --accent-saturation: var(--blue-saturation);
    --accent-lightness: var(--blue-lightness);
    --accent-r: var(--blue-r);
    --accent-g: var(--blue-g);
    --accent-b: var(--blue-b);
}
.red {
    --accent-hue: var(--red-hue);
    --accent-saturation: var(--red-saturation);
    --accent-lightness: var(--red-lightness);
    --accent-r: var(--red-r);
    --accent-g: var(--red-g);
    --accent-b: var(--red-b);
}
.orange {
    --accent-hue: var(--orange-hue);
    --accent-saturation: var(--orange-saturation);
    --accent-lightness: var(--orange-lightness);
    --accent-r: var(--orange-r);
    --accent-g: var(--orange-g);
    --accent-b: var(--orange-b);
}
.yellow {
    --accent-hue: var(--yellow-hue);
    --accent-saturation: var(--yellow-saturation);
    --accent-lightness: var(--yellow-lightness);
    --accent-r: var(--yellow-r);
    --accent-g: var(--yellow-g);
    --accent-b: var(--yellow-b);
}
.green {
    --accent-hue: var(--green-hue);
    --accent-saturation: var(--green-saturation);
    --accent-lightness: var(--green-lightness);
    --accent-r: var(--green-r);
    --accent-g: var(--green-g);
    --accent-b: var(--green-b);
}
.purple {
    --accent-hue: var(--purple-hue);
    --accent-saturation: var(--purple-saturation);
    --accent-lightness: var(--purple-lightness);
    --accent-r: var(--purple-r);
    --accent-g: var(--purple-g);
    --accent-b: var(--purple-b);
}
.pink {
    --accent-hue: var(--pink-hue);
    --accent-saturation: var(--pink-saturation);
    --accent-lightness: var(--pink-lightness);
    --accent-r: var(--pink-r);
    --accent-g: var(--pink-g);
    --accent-b: var(--pink-b);
}


/*****************
 ***  2. BASE  ***
 *****************/

* {
    /**
     * Default text rendering in WebKit is smudgy and fuzzy. This renders the
     * text more sharply, making it more pleasing to read.
     */
    -webkit-font-smoothing: antialiased;
    /**
     * Same as the above, but Firefox-specific.
     */
    -moz-osx-font-smoothing: grayscale;
    /**
     * Way easier to have the default alignment be to the left, then selectively
     * opt-in center alignment when necessary. Otherwise, I'm defining text-align: left;
     * for damned near every text-based HTML element.
     */
    text-align: left;
    /**
     * 1.5 is too loose, ~1.2-1.45 is desired, depending on typeface.
     * Again, way easier to have the default line height be 1.45em and selectively
     * opting-out elements when necessary.
     */
    line-height: var(--body-line-height);
}
html {
    font-size: var(--font-size);
    /* Many thanks to Craig Hockenberry https://furbo.org/2018/03/28/system-fonts-in-css/ */
    font-family: system-ui,
                 -apple-system,
                 BlinkMacSystemFont,
                 "Segoe UI",
                 "Roboto",
                 "Oxygen",
                 "Ubuntu",
                 "Cantarell",
                 "Fira Sans",
                 "Droid Sans",
                 "Helvetica Neue",
                 sans-serif;
    background-color: var(--background-color);
    color: var(--primary-foreground-color);
}
    html#dark.oled {
        background-color: rgb(0, 0, 0);
        color: white;
    }
body,
main,
article {
    text-align: center;
}
main {
    max-width: 33em;
    margin: var(--gap2) auto;
    padding-bottom: var(--gap3);
    padding-left: 5%;
    padding-right: 5%;
    /**
     * Without this, text selections spill beyond the actual contents. Keep
     * selections tight, bound within the main content itself.
     */
    position: relative;
}
    @supports(padding: max(5%, env(safe-area-inset-left))) {
        main {
            padding-left: max(var(--gap), env(safe-area-inset-left));
            padding-right: max(var(--gap), env(safe-area-inset-right));
        }
    }
    @media(min-width: 700px) {
        main {
            margin-top: calc(var(--gap) * 4);
            max-width: 34em;
        }
    }
    @media(min-width: 900px) {
        main {
            max-width: 35em;
        }
    }
main,
html {
    transition: background-color var(--cubic-bezier-transition);
}
p {
    margin-bottom: var(--gap);
    transition: color var(--cubic-bezier-transition);
}


/********************
 ***  3. HEADERS  ***
 ********************/

/**
 * Following the 1.2 Minor Third type scale
 * http://type-scale.com
 */
h1 {
    font-size: var(--h1-size);
    font-weight: 900;
}
h2 {
    font-size: var(--h2-size);
    font-weight: 800;
}
h3 {
    font-size: var(--h3-size);
    font-weight: 700;
}
h4 {
    font-size: var(--h4-size);
    font-weight: 600;
}
h5 {
    font-size: var(--h5-size);
    font-weight: 500;
}
h6 {
    font-size: var(--h6-size);
    font-weight: 400;
}
h1, h2, h3, h4, h5, h6,
time,
small {
    line-height: var(--header-line-height);
    margin-top: var(--gap);
    margin-bottom: var(--half-gap);
    transition: color var(--cubic-bezier-transition);
}
time,
small {
    display: block;

    font-style: italic;
    font-weight: 600;
    font-size: 1rem;

    margin-top: 0;
    margin-bottom: 0.25em;

    color: var(--secondary-foreground-color);
}
    /**
     * While small is similar in style to time in nearly every way, small
     * _can_ be displayed either below or above the content it's providing
     * secondary text for, so applying a top margin.
     */
    small {
        margin-top: 0.25em;
    }


/******************
 ***  4. LISTS  ***
 ******************/

ol,
ul {
    margin-left: calc(var(--gap) + var(--half-gap));
    margin-bottom: var(--gap);
}
    li {
        margin-bottom: var(--half-gap);
    }
        li ol,
        li ul {
            margin-top: var(--half-gap);
            margin-bottom: 0;
        }
        li ol.bare,
        li ul.bare {
            margin-top: 0;
        }
ol {
    list-style-type: decimal;
}
    ol ol {
        list-style-type: upper-alpha;
    }
        ol ol ol {
            list-style-type: upper-roman;
        }
ul {
    list-style-type: disc;
}
    ul ul {
        list-style-type: none;
    }
    ul ul:not(.bare) li:before {
        content: "-";
        position: absolute;
        margin-left: -1em;
    }
        ul ul ul {
            list-style-type: circle;
        }
        ul ul ul:not(.bare) li:before {
            content: none;
            margin-left: 0;
        }
        ul ul ul ul {
            list-style-type: square
        }
/**
 * Lists with no list item styling and no padding on list items
 */
ul.bare,
ol.bare {
    list-style: none;
}
    ul.bare li,
    ol.bare li {
        margin: 0;
    }
/**
 * Lists with just no padding on list items
 */
ul.tight li,
ol.tight li,
ul.tight ul,
ol.tight ol {
    margin-bottom: 0;
}
/**
 * Emoji styling instead of "traditional" list item styling, and no padding on
 * list items.
 */
ul.emoji,
ol.emoji {
    margin-left: 0;
    list-style-type: none;
}
/**
 * Table Of Contents: Equivalent to .tight
 */
.toc li,
.toc ul,
.toc ol {
    margin-top: 0;
    margin-bottom: 0;
}
/**
 * i.e. Checklists
 */
.task-list {
    list-style-type: none;
    margin-left: var(--half-gap);
}
    .task-list-item {
        text-indent: calc(0em - var(--gap));
        padding-left: var(--gap);
    }
    .task-list input {
        margin: 0;
        margin-right: 0.325em;
        height: 1em;
        width: 1em;
    }
/**
 * Definitions & Details
 */
dl,
details {
    margin-bottom: var(--gap);
}
/* The definition itself, its "header" or "title". */
dt {
    font-weight: 700;
}
dd p:last-child {
    margin-bottom: 0;
}
    /* Indent definition list contents like we would "normal" lists. */
    dl dd {
        margin-left: calc(var(--gap) + var(--half-gap));
    }
/* The clickable "► <summary> text" accordian that expands to show the <details> body */
summary {
    outline: 0;
    cursor: pointer;
    display: inline-block;

    border-radius: 0.25em;

    padding-left: 0.25em;
    padding-right: 0.25em;
    margin-left: -0.25em;
    margin-right: -0.25em;

    color: var(--accent-color);
    color: var(--accent-p3-color);
    transition: background-color var(--cubic-bezier-transition), color var(--cubic-bezier-transition);
}
    summary:hover {
        background-color: hsla(var(--accent-hsl-core), var(--highlight-background-opacity));
        background-color: color(var(--accent-p3-core) / var(--highlight-background-opacity));
    }


/*******************
 ***  5. TABLES  ***
 *******************/

table {
    width: auto;
    word-break: normal;
    word-break: keep-all;
    overflow-x: auto;
    margin-bottom: var(--gap);

    border: 1px solid var(--code-border-color);
    border-collapse: separate;
    border-left: 0;
    border-radius: var(--img-border-radius);
    border-spacing: 0px;
}
/**
 * Header
 */
thead {
    display: table-header-group;
    vertical-align: middle;
    border-color: inherit;
    border-collapse: separate;
    font-weight: 600;
}
    thead tr:last-child th:last-child {
        border-radius: 0 var(--img-border-radius) 0 0;
    }
    thead:first-child tr:first-child th:first-child {
        border-radius: var(--img-border-radius) 0 0 0;
    }
    thead:last-child tr:last-child th:first-child {
        border-radius: 0 0 0 var(--img-border-radius);
    }
th {
    font-weight: 600;
    color: var(--heavy-primary-foreground-color);
    background-color: var(--table-header-background-color);
}
/**
 * Rows
 */
tr {
    display: table-row;
    vertical-align: inherit;
    border-color: inherit;
}
/**
 * Cells
 */
td,
th {
    padding-left: var(--img-border-radius);
    padding-right: var(--img-border-radius); 
    padding-top: calc(var(--gap) / 8);
    padding-bottom: calc(var(--gap) / 8);
    text-align: left;
    vertical-align: top;
    border-left: 1px solid var(--code-border-color);
}
td {
    border-top: 1px solid var(--code-border-color);
}
/**
 * Body
 */
tbody tr:nth-child(even) td {
    background-color: var(--table-washboard-even-background-color);
}
tbody tr:nth-child(odd) td {
    background-color: var(--table-washboard-odd-background-color);
}
tbody:first-child tr:first-child td:first-child {
    border-radius: var(--img-border-radius) 0 0 0;
}
tbody:last-child tr:last-child td:first-child {
    border-radius: 0 0 0 var(--img-border-radius);
}
tbody:last-child tr:last-child td:last-child {
    border-radius: 0 0 var(--img-border-radius) 0;
}


/********************************
 ***  6. TAGS & HIGHLIGHTING  ***
 ********************************/

mark {
    word-wrap: break-word;

    padding-top: 0.1em;
    padding-bottom: 0.1em;
    padding-left: 0.25em;
    padding-right: 0.25em;
    border-radius: 0.25em;

    color: var(--primary-foreground-color);
}
    /**
     * Disable inline code block styles if used within a mark
     */
    mark code {
        padding: 0;
        background-color: transparent;
        border: none;
    }
mark.tag {
    display: inline-block;
    vertical-align: middle;

    font-style: normal;
    font-size: 0.53em;
    font-weight: 600;
    line-height: 1em;

    padding-top: 0.25em;
    padding-bottom: 0.25em;
    padding-left: 0.75em;
    padding-right: 0.75em;
    margin-top: -2px;
    margin-left: 0.25em;
    margin-right: 0.25em;

    color: rgb(255, 255, 255);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.03), 0 2px 10px 0 rgba(0, 0, 0, 0.03);
    border-radius: 1em;
}
mark.tag.gray,
mark.tag.grey,
mark.tag.graphite,
#dark mark.tag.gray,
#dark mark.tag.grey,
#dark mark.tag.graphite {
    background-image: linear-gradient(to bottom right, hsl(var(--accent-hue), 5%, 60%) 38.66%, hsl(calc(var(--accent-hue) + 3), 5%, 40%));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--accent-hue), 5%, var(--accent-lightness), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--accent-hue), 5%, var(--accent-lightness), 0.2);
}
mark.blue {
    background-image: linear-gradient(to right, hsla(var(--blue-hue), 100%, calc(var(--blue-lightness) + 15%), 0.99) 38.66%, hsla(calc(var(--blue-hue) + 3), 100%, calc(var(--blue-lightness) + 20%), 0.99));
}
mark.tag.blue {
    background-image: linear-gradient(to bottom right, hsl(var(--blue-hue), var(--blue-saturation), calc(var(--blue-lightness) + 10%)) 38.66%, hsl(calc(var(--blue-hue) + 3), var(--blue-saturation), calc(var(--blue-lightness) - 10%)));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--blue-hsl-core), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--blue-hsl-core), 0.2);
}
    #dark mark.blue {
        background-image: linear-gradient(to right, hsla(var(--blue-hue), 100%, calc(var(--blue-lightness) - 25%), 0.99) 38.66%, hsla(calc(var(--blue-hue) + 3), 100%, calc(var(--blue-lightness) - 20%), 0.99));
    }
    #dark mark.tag.blue {
        background-image: linear-gradient(to bottom right, hsl(var(--blue-hue), var(--blue-saturation), calc(var(--blue-lightness) + 10%)) 38.66%, hsl(calc(var(--blue-hue) + 3), var(--blue-saturation), calc(var(--blue-lightness) - 10%)));
        box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--blue-hsl-core), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--blue-hsl-core), 0.2);
    }
mark.red {
    background-image: linear-gradient(to right, hsla(var(--red-hue), 100%, calc(var(--red-lightness) + 15%), 0.99) 38.66%, hsla(calc(var(--red-hue) + 3), 100%, calc(var(--red-lightness) + 20%), 0.99));
}
mark.tag.red {
    background-image: linear-gradient(to bottom right, hsl(var(--red-hue), var(--red-saturation), calc(var(--red-lightness) + 10%)) 38.66%, hsl(calc(var(--red-hue) + 3), var(--red-saturation), calc(var(--red-lightness) - 10%)));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--red-hsl-core), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--red-hsl-core), 0.2);
}
    #dark mark.red {
        background-image: linear-gradient(to right, hsla(var(--red-hue), 100%, calc(var(--red-lightness) - 25%), 0.99) 38.66%, hsla(calc(var(--red-hue) + 3), 100%, calc(var(--red-lightness) - 20%), 0.99));
    }
    #dark mark.tag.red {
        background-image: linear-gradient(to bottom right, hsl(var(--red-hue), var(--red-saturation), calc(var(--red-lightness) + 10%)) 38.66%, hsl(calc(var(--red-hue) + 3), var(--red-saturation), calc(var(--red-lightness) - 10%)));
        box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--red-hsl-core), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--red-hsl-core), 0.2);
    }
mark.orange {
    background-image: linear-gradient(to right, hsla(var(--orange-hue), 100%, calc(var(--orange-lightness) + 15%), 0.99) 38.66%, hsla(calc(var(--orange-hue) + 3), 100%, calc(var(--orange-lightness) + 20%), 0.99));
}
mark.tag.orange {
    background-image: linear-gradient(to bottom right, hsl(var(--orange-hue), var(--orange-saturation), calc(var(--orange-lightness) + 10%)) 38.66%, hsl(calc(var(--orange-hue) + 3), var(--orange-saturation), calc(var(--orange-lightness) - 10%)));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--orange-hsl-core), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--orange-hsl-core), 0.2);
}
    #dark mark.orange {
        background-image: linear-gradient(to right, hsla(var(--orange-hue), 100%, calc(var(--orange-lightness) - 25%), 0.99) 38.66%, hsla(calc(var(--orange-hue) + 3), 100%, calc(var(--orange-lightness) - 20%), 0.99));
    }
    #dark mark.tag.orange {
        background-image: linear-gradient(to bottom right, hsl(var(--orange-hue), var(--orange-saturation), calc(var(--orange-lightness) + 10%)) 38.66%, hsl(calc(var(--orange-hue) + 3), var(--orange-saturation), calc(var(--orange-lightness) - 10%)));
        box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--orange-hsl-core), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--orange-hsl-core), 0.2);
    }
mark,
mark.yellow {
    background: unset;
    background-image: linear-gradient(to right, hsla(var(--yellow-hue), 100%, calc(var(--yellow-lightness) + 15%), 0.99) 38.66%, hsla(calc(var(--yellow-hue) + 3), 100%, calc(var(--yellow-lightness) + 20%), 0.99));
}
mark.tag,
mark.tag.yellow {
    background-image: linear-gradient(to bottom right, hsl(var(--yellow-hue), var(--yellow-saturation), calc(var(--yellow-lightness) + 10%)) 38.66%, hsl(calc(var(--yellow-hue) + 3), var(--yellow-saturation), calc(var(--yellow-lightness) - 10%)));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--yellow-hsl-core), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--yellow-hsl-core), 0.2);
}
    #dark mark,
    #dark mark.yellow {
        background: unset;
        background-image: linear-gradient(to right, hsla(var(--yellow-hue), 100%, calc(var(--yellow-lightness) - 25%), 0.99) 38.66%, hsla(calc(var(--yellow-hue) + 3), 100%, calc(var(--yellow-lightness) - 20%), 0.99));
    }
    #dark mark.tag.yellow {
        background-image: linear-gradient(to bottom right, hsl(var(--yellow-hue), var(--yellow-saturation), calc(var(--yellow-lightness) + 10%)) 38.66%, hsl(calc(var(--yellow-hue) + 3), var(--yellow-saturation), calc(var(--yellow-lightness) - 10%)));
        box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--yellow-hsl-core), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--yellow-hsl-core), 0.2);
    }
mark.green {
    background-image: linear-gradient(to right, hsla(var(--green-hue), 100%, calc(var(--green-lightness) + 15%), 0.99) 38.66%, hsla(calc(var(--green-hue) + 3), 100%, calc(var(--green-lightness) + 20%), 0.99));
}
mark.tag.green {
    background-image: linear-gradient(to bottom right, hsl(var(--green-hue), var(--green-saturation), calc(var(--green-lightness) + 10%)) 38.66%, hsl(calc(var(--green-hue) + 3), var(--green-saturation), calc(var(--green-lightness) - 10%)));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--green-hsl-core), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--green-hsl-core), 0.2);
}
    #dark mark.green {
        background-image: linear-gradient(to right, hsla(var(--green-hue), 100%, calc(var(--green-lightness) - 25%), 0.99) 38.66%, hsla(calc(var(--green-hue) + 3), 100%, calc(var(--green-lightness) - 20%), 0.99));
    }
    #dark mark.tag.green {
        background-image: linear-gradient(to bottom right, hsl(var(--green-hue), var(--green-saturation), calc(var(--green-lightness) + 10%)) 38.66%, hsl(calc(var(--green-hue) + 3), var(--green-saturation), calc(var(--green-lightness) - 10%)));
        box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--green-hsl-core), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--green-hsl-core), 0.2);
    }
mark.purple {
    background-image: linear-gradient(to right, hsla(var(--purple-hue), 100%, calc(var(--purple-lightness) + 15%), 0.99) 38.66%, hsla(calc(var(--purple-hue) + 3), 100%, calc(var(--purple-lightness) + 20%), 0.99));
}
mark.tag.purple {
    background-image: linear-gradient(to bottom right, hsl(var(--purple-hue), var(--purple-saturation), calc(var(--purple-lightness) + 10%)) 38.66%, hsl(calc(var(--purple-hue) + 3), var(--purple-saturation), calc(var(--purple-lightness) - 10%)));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--purple-hsl-core), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--purple-hsl-core), 0.2);
}
    #dark mark.purple {
        background-image: linear-gradient(to right, hsla(var(--purple-hue), 100%, calc(var(--purple-lightness) - 25%), 0.99) 38.66%, hsla(calc(var(--purple-hue) + 3), 100%, calc(var(--purple-lightness) - 20%), 0.99));
    }
    #dark mark.tag.purple {
        background-image: linear-gradient(to bottom right, hsl(var(--purple-hue), var(--purple-saturation), calc(var(--purple-lightness) + 10%)) 38.66%, hsl(calc(var(--purple-hue) + 3), var(--purple-saturation), calc(var(--purple-lightness) - 10%)));
        box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--purple-hsl-core), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--purple-hsl-core), 0.2);
    }
mark.pink {
    background-image: linear-gradient(to right, hsla(var(--pink-hue), calc(var(--pink-saturation) + 10%), calc(var(--pink-lightness) + 15%), 0.99) 38.66%, hsla(calc(var(--pink-hue) + 3), calc(var(--pink-saturation) + 10%), calc(var(--pink-lightness) + 20%), 0.99));
}
mark.tag.pink {
    background-image: linear-gradient(to bottom right, hsl(var(--pink-hue), var(--pink-saturation), calc(var(--pink-lightness) + 10%)) 38.66%, hsl(calc(var(--pink-hue) + 3), var(--pink-saturation), calc(var(--pink-lightness) - 10%)));
    box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--pink-hsl-core), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--pink-hsl-core), 0.2);
}
    #dark mark.pink {
        background-image: linear-gradient(to right, hsla(var(--pink-hue), 100%, calc(var(--pink-lightness) - 25%), 0.99) 38.66%, hsla(calc(var(--pink-hue) + 3), 100%, calc(var(--pink-lightness) - 20%), 0.99));
    }
    #dark mark.tag.pink {
        background-image: linear-gradient(to bottom right, hsl(var(--pink-hue), var(--pink-saturation), calc(var(--pink-lightness) + 10%)) 38.66%, hsl(calc(var(--pink-hue) + 3), var(--pink-saturation), calc(var(--pink-lightness) - 10%)));
        box-shadow: 0 0.2em 0.4em -0.2em hsla(var(--pink-hsl-core), 0.4), 0 0.2em 0.87em -0.2em hsla(var(--pink-hsl-core), 0.2);
    }


/***********************************
 ***  7. TYPOGRAPHIC FLOURISHES  ***
 ***********************************/

/**
 * Lovely links in prose; on hover the entire link background glows with an
 * accent highlight with rounded corners.
 */
main a {
    border-radius: 0.25em;

    padding-top: 0.1em;
    padding-bottom: 0.1em;
    padding-left: 0.25em;
    padding-right: 0.25em;

    margin-left: -0.25em;
    margin-right: -0.25em;
}
    a {
        color: var(--accent-color);
        color: var(--accent-p3-color);
        transition: background-color var(--cubic-bezier-transition), color var(--cubic-bezier-transition);
    }
    a:hover {
        background-color: hsla(var(--accent-hsl-core), var(--highlight-background-opacity));
        background-color: color(var(--accent-p3-core) / var(--highlight-background-opacity));
    }
/**
 * Supertext, e.g. Januarth 15^th
 */
sup { 
    vertical-align: super;
    font-size: smaller;
}
/**
 * Abbreviations (i.e. Acronyms) are more pleasing if they're distinguished
 * from regular prose with small caps.
 */
abbr,
.small-caps {
    -moz-font-feature-settings: "c2sc", "smcp";
    -ms-font-feature-settings: "c2sc", "smcp";
    -webkit-font-feature-settings: "c2sc", "smcp";
    font-feature-settings: "c2sc", "smcp";
    font-variant-caps: all-small-caps;
}
/**
 * Deletions, i.e. ~slashed through~ text.
 * Small is HTML "weak"/secondary text.
 */
del, del code,
small,
.weak {
    color: var(--secondary-foreground-color);
}
    /**
     * Disable inline code block styles if used within a del
     */
    del code {
        padding: 0;
        background-color: transparent !important;
        border: none;
        font-size: 1em;
    }
.underline {
    text-decoration: underline;
}
.bold {
    font-weight: bold;
}
/**
 * Accent colored text selections
 */
::selection {
    background: hsla(var(--accent-hsl-core), var(--selection-background-opacity));
    background: color(var(--accent-p3-core) / var(--selection-background-opacity));
    color: white;
}
/**
 * There are some custom UI components that text selections aren't really
 * appropriate for. Disable selections for those rare cases to match behavior
 * of their "native" counterparts.
 */
.no-select,
.button,
summary {
    -webkit-touch-callout: none;
      -webkit-user-select: none;
       -khtml-user-select: none;
         -moz-user-select: none;
          -ms-user-select: none;
              user-select: none;
}
/**
 * Literally "keyboard description", fake buttons rendered to look like
 * keyboard keys for assistance communicating keyboard shortcuts & the like.
 */
kbd {
    font-size: var(--h6-size);
    word-wrap: break-word;

    padding-left: 0.5em;
    padding-right: 0.5em;

    border-radius: 0.25em;
    border: 1px solid hsl(var(--accent-hue), 5%, 85%);
    border-bottom-width: 3px;

    background-image: linear-gradient(hsla(var(--accent-hue), 10%, 98%, .975), hsla(var(--accent-hue), 10%, 93%, .975));
    transition: color var(--cubic-bezier-transition), background var(--cubic-bezier-transition), border var(--cubic-bezier-transition);
}
    #dark kbd {
        border-color: hsl(var(--accent-hue), 5%, 17%);
        background-image: linear-gradient(hsla(var(--accent-hue), 10%, 20%, .975), hsla(var(--accent-hue), 10%, 3%, .975));
    }
hr {
    border: none;
    height: 2px;
    width: 100%;
    margin-top: var(--gap3);
    margin-bottom: var(--gap3);
    display: block;
    background: linear-gradient(to right, hsla(var(--background-hsl-core), 0.0) 0%, hsla(var(--accent-hue), var(--widget-saturation), var(--widget-lightness), 0.2) 25%, hsla(var(--accent-hue), var(--widget-saturation), var(--widget-lightness), 0.2) 75%, hsla(var(--background-hsl-core), 0.0) 100%);
}
blockquote {
    color: var(--heavy-secondary-foreground-color);
    transition: color var(--cubic-bezier-transition), border var(--cubic-bezier-transition);
    border-left: 0.2em solid var(--widget-border-color);
    padding-left: var(--three-fourths-gap);
    font-style: italic;
}
    li blockquote {
        margin-top: var(--half-gap);
        margin-bottom: var(--half-gap);
    }
    li blockquote p:last-child {
        margin-bottom: 0;
    }
/**
 * Anchor links are magical ¶ links that appear when you hover over or tap any
 * section header in an article. It's just window dressing for regular <a>
 * elements with "#"-style anchor links to particular subsections.
 */
a.anchor {
    line-height: 1rem;
    border-radius: 0.25em;
    margin-left: 0.25em;
    opacity: 0;
    transition: background-color var(--cubic-bezier-transition), color var(--cubic-bezier-transition), opacity var(--cubic-bezier-transition);
    /**
     * Disable anchors on small screens... for now.
     */
    display: none;
}
    .anchored:hover a.anchor,
    .anchored a.anchor:hover {
        opacity: 1;
    }
@media(min-width: 700px) {
    a.anchor {
        font-size: 0.833em;
        line-height: 1em;
        float: left;
        margin-left: -1.2em;
        padding-top: 0.2em;
        padding-bottom: 0.3em;
        display: block;
    }
}
/**
 * Little "talk bubble" hints perfect for adding little comments or details to
 * hoverable elements.
 */
[data-hint]:after {
    color: var(--primary-foreground-color);
    background-color: var(--widget-background-color);
    border-color: var(--widget-border-color);
    bow-shadow: var(--hover-shadow);
    z-index: 100000;
}
[data-hint]:after,
[data-hint]:before {
    display: none;
}
    [data-hint]:before {
        z-index: 100001;
    }
    /**
     * Not a mistake! These "borders" are actually the little "talk bubble
     * arrow" coming out of the hint bubble that points to the content that
     * spawned it, so it needs to match the bubble's _background_, not the
     * border.
     */
    .hint--right[data-hint]:before {
        border-right-color: var(--widget-background-color);
    }
    .hint--top[data-hint]:before {
        border-top-color: var(--widget-background-color);
    }
    .hint--bottom[data-hint]:before {
        border-bottom-color: var(--widget-background-color);
    }
    .hint--left[data-hint]:before {
        border-left-color: var(--widget-background-color);
    }
    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
        [data-hint]:after {
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            backdrop-filter: saturate(180%) blur(20px);
        }
    }
    @media(min-width: 700px) {
        [data-hint]:after,
        [data-hint]:before {
            display: block;
        }
    }
/**
 * Yes, I have an Apple SVG on standby to drop into articles and I'm not
 * afraid to use it.
 */
.apple-logo path {
    fill: var(--primary-foreground-color);
}


/************************
 ***  8. ADMONITIONS  ***
 ************************/

.admonition {
    padding: 1em;
    margin-bottom: var(--gap);

    border-top: 1px solid hsla(var(--accent-hue), var(--widget-saturation), var(--widget-lightness), 0.15);
    border-bottom: 1px solid hsla(var(--accent-hue), var(--widget-saturation), var(--widget-lightness), 0.15);
    border-left: 0.5em solid hsl(var(--accent-hue), var(--widget-saturation), calc(var(--widget-lightness) + var(--admonition-left-border-lightness-adjustment)));
    border-right: 1px solid hsla(var(--accent-hue), var(--widget-saturation), var(--widget-lightness), 0.15);
    border-radius: var(--img-border-radius);

    color: var(--primary-foreground-color);
    background-color: var(--widget-background-color);
    box-shadow: var(--admonition-shadow);

    transition: border var(--cubic-bezier-transition), box-shadow var(--cubic-bezier-transition), background-color var(--cubic-bezier-transition), color var(--cubic-bezier-transition);
}
.admonition-title {
    font-size: var(--h4-size);
    font-weight: 600;
}
/**
 * The ".admonition-title a" declaration is intentional, otherwise if the
 * title of the admonition is a link (like with Tweet Admonitions!), then the
 * default line height of <a> elements is applied, and the title gets out of
 * alignment.
 */
.admonition-title,
.admonition-title a {
    line-height: var(--header-line-height);
    margin-top: 0;
    margin-bottom: var(--half-gap);
}
/**
 * Since the admonition itself is padded, if the content's last child's
 * margin-bottom is still respected, it will artifically extend the
 * admonition's bottom padding.
 */
.admonition *:last-child {
    margin-bottom: 0;
}
.admonition .admonition-title:before,
.admonition > p:first-child:not(.admonition-title):before {
    font-weight: 700;
}
/**
 * The icon font size for Admonitions needs to be slightly shrunk (especially
 * if applied to admonition-titles), looks ridiculously large otherwise.
 */
.admonition .admonition-title:before {
    font-size: var(--h6-size);
}
/**
 * Simple, Gray "Asides" (No icon and heavy left border)
 */
.admonition.aside {
    border-left: 1px solid hsla(var(--accent-hue), var(--widget-saturation), var(--widget-lightness), 0.15);
}
    /**
     * Disable the icon
     */
    .admonition.aside .admonition-title:before,
    .admonition.aside > p:first-child:before {
        content: none;
    }
/**
 * [i]: Default Gray Info Admonition.
 * 
 * All other admonitions will extend off this base declaration, though this
 * default gray admonition can also be used "as is" for admonitions that don't
 * have a clear "type" like .warning, .success, etc.
 */
.admonition > p:first-child:before,
.admonition .admonition-title:before {
    content: "i";
    position: absolute;
    color: white;
    border-radius: 25%;
    height: var(--body-line-height);
    width: 0.86em;
    padding-left: 0.625em;
    margin-left: -2em;
    background-color: hsl(var(--accent-hue), var(--widget-saturation), calc(var(--widget-lightness) + var(--admonition-left-border-lightness-adjustment)));
    transition: background-color var(--cubic-bezier-transition), color var(--cubic-bezier-transition);
}
/**
 * [i]/[✓]: Green Info Admonition
 */
.admonition.success,
.admonition.green {
    background-color: hsla(var(--green-hsl-core), var(--highlight-background-opacity));
    background-color: color(var(--green-p3-core) / var(--highlight-background-opacity));
    border-left-color: var(--green-color);
    border-left-color: var(--green-p3-color);
    border-right-color: hsla(var(--green-hsl-core), var(--highlight-background-opacity));
    border-bottom-color: hsla(var(--green-hsl-core), var(--highlight-background-opacity));
    border-top-color: hsla(var(--green-hsl-core), var(--highlight-background-opacity));
    box-shadow: 0em 1em 2.75em hsla(var(--green-hsl-core), 0.1), 0em 0.22em 0.6em hsla(var(--green-hsl-core), 0.05);
}
    .admonition.success .admonition-title:before,
    .admonition.success > p:first-child:before {
        content: "✓";
        width: var(--three-fourths-gap);
        padding-left: 0.325em;
        padding-right: 0.1725em;
    }
    .admonition.success .admonition-title:before,
    .admonition.success p:first-child:before,
    .admonition.green .admonition-title:before,
    .admonition.green p:first-child:before {
        background-color: var(--green-color);
        background-color: var(--green-p3-color);
    }
    .admonition.success a,
    .admonition.green a {
        color: var(--green-color);
        color: var(--green-p3-color);
    }
    .admonition.success a:hover,
    .admonition.green a:hover {
        background-color: hsla(var(--green-hsl-core), var(--highlight-background-opacity));
        background-color: color(var(--green-p3-core) / var(--highlight-background-opacity));
    }
    .admonition.success ::selection,
    .admonition.green ::selection {
        background: hsla(var(--green-hsl-core), var(--selection-background-opacity));
        background: color(var(--green-p3-core) / var(--selection-background-opacity));
    }
/**
 * [!]: Red Danger Admonition
 */
.admonition.error,
.admonition.danger,
.admonition.warning,
.admonition.red {
    background-color: hsla(var(--red-hsl-core), var(--highlight-background-opacity));
    background-color: color(var(--red-p3-core) / var(--highlight-background-opacity));
    border-left-color: var(--red-color);
    border-left-color: var(--red-p3-color);
    border-right-color: hsla(var(--red-hsl-core), var(--highlight-background-opacity));
    border-bottom-color: hsla(var(--red-hsl-core), var(--highlight-background-opacity));
    border-top-color: hsla(var(--red-hsl-core), var(--highlight-background-opacity));
    box-shadow: 0em 1em 2.75em hsla(var(--red-hsl-core), 0.1), 0em 0.22em 0.6em hsla(var(--red-hsl-core), 0.05);
}
    .admonition.error .admonition-title:before,
    .admonition.danger .admonition-title:before,
    .admonition.warning .admonition-title:before,
    .admonition.error > p:first-child:before,
    .admonition.danger > p:first-child:before,
    .admonition.warning > p:first-child:before {
        content: "!";
        padding-left: 0.6em;
        background-color: var(--red-color);
        background-color: var(--red-p3-color);
    }
    .admonition.red .admonition-title:before,
    .admonition.red > p:first-child:before {
        background-color: var(--red-color);
        background-color: var(--red-p3-color);
    }
    .admonition.error a,
    .admonition.danger a,
    .admonition.warning a,
    .admonition.red a {
        color: var(--red-color);
        color: var(--red-p3-color);
    }
    .admonition.error a:hover,
    .admonition.danger a:hover,
    .admonition.warning a:hover,
    .admonition.red a:hover {
        background-color: hsla(var(--red-hsl-core), var(--highlight-background-opacity));
        background-color: color(var(--red-p3-core) / var(--highlight-background-opacity));
    }
    .admonition.error ::selection,
    .admonition.danger ::selection,
    .admonition.warning ::selection,
    .admonition.red ::selection {
        background: hsla(var(--red-hsl-core), var(--selection-background-opacity));
        background: color(var(--red-p3-core) / var(--selection-background-opacity));
    }
/**
 * [?]/[i]: Blue Question and Info Admonitions
 */
.admonition.question,
.admonition.hint,
.admonition.note,
.admonition.info,
.admonition.tip,
.admonition.example,
.admonition.blue {
    background-color: hsla(var(--blue-hsl-core), var(--highlight-background-opacity));
    background-color: color(var(--blue-p3-core) / var(--highlight-background-opacity));
    border-left-color: var(--blue-color);
    border-left-color: var(--blue-p3-color);
    border-right-color: hsla(var(--blue-hsl-core), var(--highlight-background-opacity));
    border-bottom-color: hsla(var(--blue-hsl-core), var(--highlight-background-opacity));
    border-top-color: hsla(var(--blue-hsl-core), var(--highlight-background-opacity));
    box-shadow: 0em 1em 2.75em hsla(var(--blue-hsl-core), 0.1), 0em 0.22em 0.6em hsla(var(--blue-hsl-core), 0.05);
}
    .admonition.question .admonition-title:before,
    .admonition.question > p:first-child:before {
        content: "?";
        width: var(--three-fourths-gap);
        padding-left: 0.475em;
    }
    .admonition.question .admonition-title:before,
    .admonition.hint .admonition-title:before,
    .admonition.note .admonition-title:before,
    .admonition.info .admonition-title:before,
    .admonition.tip .admonition-title:before,
    .admonition.example .admonition-title:before,
    .admonition.blue .admonition-title:before,
    .admonition.question > p:first-child:before,
    .admonition.hint > p:first-child:before,
    .admonition.note > p:first-child:before,
    .admonition.info > p:first-child:before,
    .admonition.tip > p:first-child:before,
    .admonition.example > p:first-child:before,
    .admonition.blue > p:first-child:before {
        background-color: var(--blue-color);
        background-color: var(--blue-p3-color);
    }
    .admonition.question a,
    .admonition.hint a,
    .admonition.note a,
    .admonition.info a,
    .admonition.tip a,
    .admonition.example a,
    .admonition.blue a {
        color: var(--blue-color);
        color: var(--blue-p3-color);
    }
    .admonition.question a:hover,
    .admonition.hint a:hover,
    .admonition.note a:hover,
    .admonition.info a:hover,
    .admonition.tip a:hover,
    .admonition.example a:hover,
    .admonition.blue a:hover {
        background-color: hsla(var(--blue-hsl-core), var(--highlight-background-opacity));
        background-color: color(var(--blue-p3-core) / var(--highlight-background-opacity));
    }
    .admonition.question ::selection,
    .admonition.hint ::selection,
    .admonition.note ::selection,
    .admonition.info ::selection,
    .admonition.tip ::selection,
    .admonition.example ::selection,
    .admonition.blue ::selection {
        background: hsla(var(--blue-hsl-core), var(--selection-background-opacity));
        background: color(var(--blue-p3-core) / var(--selection-background-opacity));
    }
/**
 * [★]/[i]: Yellow Star & Info Admonitions
 */
.admonition.update,
.admonition.yellow,
.admonition.star {
    background-color: hsla(var(--yellow-hsl-core), var(--highlight-background-opacity));
    background-color: color(var(--yellow-p3-core) / var(--highlight-background-opacity));
    border-left-color: var(--yellow-color);
    border-left-color: var(--yellow-p3-color);
    /**
     * The border vanishes with the yellow access, but only in dark mode. Tone
     * the opacity slightly up in light only.
     */
    border-right-color: hsla(var(--yellow-hsl-core), calc(var(--highlight-background-opacity) + 0.1));
    border-bottom-color: hsla(var(--yellow-hsl-core), calc(var(--highlight-background-opacity) + 0.1));
    border-top-color: hsla(var(--yellow-hsl-core), calc(var(--highlight-background-opacity) + 0.1));
    box-shadow: 0em 1em 2.75em hsla(var(--yellow-hsl-core), 0.1), 0em 0.22em 0.6em hsla(var(--yellow-hsl-core), 0.05);
}
    /**
     * Reapply the "normal" border settings, in dark mode the normal yellow border shows up perfectly fine. 
     */
    #dark .admonition.update,
    #dark .admonition.yellow,
    #dark .admonition.star {
        border-right-color: hsla(var(--yellow-hsl-core), var(--highlight-background-opacity));
        border-bottom-color: hsla(var(--yellow-hsl-core), var(--highlight-background-opacity));
        border-top-color: hsla(var(--yellow-hsl-core), var(--highlight-background-opacity));
    }
    /**
     * That THICC left boarder is just too much in dark mode for the yellow access, specifically.
     * Tone that down ever so slightly...
     */
    #dark .admonition.update,
    #dark .admonition.yellow,
    #dark .admonition.star {
        border-left-color: hsl(var(--yellow-hue), var(--yellow-saturation), calc(var(--yellow-lightness) - 7%));
        border-left-color: color(display-p3 0.90196078 0.74901961 0);
    }
    #dark .admonition.update .admonition-title:before,
    #dark .admonition.update > p:first-child:before,
    #dark .admonition.yellow .admonition-title:before,
    #dark .admonition.yellow > p:first-child:before,
    #dark .admonition.star .admonition-title:before,
    #dark .admonition.star > p:first-child:before {
        background-color: hsl(var(--yellow-hue), var(--yellow-saturation), calc(var(--yellow-lightness) - 7%));
        background-color: color(display-p3 0.90196078 0.74901961 0);
    }
    .admonition.star > p:first-child:before,
    .admonition.star .admonition-title:before {
        position: absolute;
        content: '★';
        width: 0.875em;
        padding-left: 0.2175em;
        padding-right: 0.3575em;
        margin-left: -1.975em;
    }
    .admonition.update .admonition-title:before,
    .admonition.update > p:first-child:before,
    .admonition.yellow .admonition-title:before,
    .admonition.yellow > p:first-child:before,
    .admonition.star .admonition-title:before,
    .admonition.star > p:first-child:before {
        background-color: var(--yellow-color);
        background-color: var(--yellow-p3-color);
    }
    .admonition.update a,
    .admonition.yellow a,
    .admonition.star a {
        color: var(--yellow-color);
        color: var(--yellow-p3-color);
    }
    .admonition.update a:hover,
    .admonition.yellow a:hover,
    .admonition.star a:hover {
        background-color: hsla(var(--yellow-hsl-core), var(--highlight-background-opacity));
        background-color: color(var(--yellow-p3-core) / var(--highlight-background-opacity));
    }
    .admonition.update ::selection,
    .admonition.yellow ::selection,
    .admonition.star ::selection {
        background: hsla(var(--yellow-hsl-core), var(--selection-background-opacity));
        background: color(var(--yellow-p3-core) / var(--selection-background-opacity));
    }
/**
 * [🐦]: Teal Twitter Admonitions
 */
.admonition.tweet {
    border-left-color: hsl(203, 89%, 53%);
    border-right-color: hsla(203, 89%, 53%, 0.15);
    border-top-color: hsla(203, 89%, 53%, 0.15);
    border-bottom-color: hsla(203, 89%, 53%, 0.15);

    background-color: hsla(203, 89%, 53%, 0.1);
    box-shadow: 0em 1em 2.75em hsla(203, 89%, 53%, 0.1), 0em 0.22em 0.6em hsla(203, 89%, 53%, 0.05);
}
    #dark .admonition.tweet {
        background-color: hsla(203, 89%, 53%, 0.15);
        box-shadow: 0em 1em 2.75em hsla(203, 89%, 53%, 0.1), 0em 0.22em 0.6em hsla(203, 89%, 53%, 0.05);
    }
    .admonition.tweet ::selection {
        background: hsla(203, 89%, 53%, var(--selection-background-opacity));
    }
.admonition.tweet .admonition-title:before,
.admonition.tweet > p:first-child:before {
    content: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMjUwIDI1MCcgdmVyc2lvbj0nMS4xJyB4bWxucz0n aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8v d3d3LnczLm9yZy8xOTk5L3hsaW5rJz4gPGcgc3Ryb2tlPSdub25lJyBzdHJva2Ut d2lkdGg9JzEnIGZpbGw9J25vbmUnIGZpbGwtcnVsZT0nZXZlbm9kZCc+PHBhdGgg ZD0nTTc4LjYyLDI0OS41OSBDMTcyLjk2LDI0OS41OSAyMjQuNTYsMTcxLjQzIDIy NC41NiwxMDMuNjUgQzIyNC41NiwxMDEuNDMgMjI0LjU2LDk5LjIyIDIyNC40MSw5 Ny4wMiBDMjM0LjQ0ODMxNCw4OS43NTkxMDg2IDI0My4xMTM1NTUsODAuNzY4Nzk0 IDI1MCw3MC40NyBDMjQwLjYzODc5MSw3NC42MTgwMTc3IDIzMC43MDgyOTMsNzcu MzM4Mjg2NSAyMjAuNTQsNzguNTQgQzIzMS4yNDc0NCw3Mi4xMjk4MjA2IDIzOS4y NjEyMzUsNjIuMDQ3NzE5OSAyNDMuMDksNTAuMTcgQzIzMy4wMjE1NzUsNTYuMTQ0 NTUzMiAyMjIuMDA2NDYxLDYwLjM1NTEyMDIgMjEwLjUyLDYyLjYyIEMxOTQuNjIw ODI4LDQ1LjcxMzk0MjggMTY5LjM1NzE5NCw0MS41NzYxMjU4IDE0OC44OTU0OTMs NTIuNTI2Nzk5MyBDMTI4LjQzMzc5Miw2My40Nzc0NzI3IDExNy44NjI3NSw4Ni43 OTMyNTczIDEyMy4xMSwxMDkuNCBDODEuODY4OTU3NCwxMDcuMzMyNDk1IDQzLjQ0 NDc1NzgsODcuODUzMjMyNyAxNy40LDU1LjgxIEMzLjc4NjIyNzU2LDc5LjI0NjQ0 NzMgMTAuNzM5ODc4OCwxMDkuMjI4NTk1IDMzLjI4LDEyNC4yOCBDMjUuMTE3NDEy LDEyNC4wMzgwNzUgMTcuMTMyNzkzNywxMjEuODM2MTMyIDEwLDExNy44NiBDMTAs MTE4LjA3IDEwLDExOC4yOSAxMCwxMTguNTEgQzEwLjAwNjY4MTMsMTQyLjkyNTkz IDI3LjIxNzUxNDksMTYzLjk1NTM1MiA1MS4xNSwxNjguNzkgQzQzLjU5ODY5Niwx NzAuODQ5NCAzNS42NzU4MDU5LDE3MS4xNTA0NDMgMjcuOTksMTY5LjY3IEMzNC43 MDk0NzkzLDE5MC41NjQyMjggNTMuOTY1NzQ1NiwyMDQuODc3ODM5IDc1LjkxLDIw NS4yOSBDNTcuNzQ3MzUwNCwyMTkuNTY0MzE5IDM1LjMxMDU5NTEsMjI3LjMxMzI3 NyAxMi4yMSwyMjcuMjkgQzguMTI5MDM1NjksMjI3LjI4MjE2NSA0LjA1MjA0MDY1 LDIyNy4wMzUwNzUgMCwyMjYuNTUgQzIzLjQ1NjM1OTUsMjQxLjYwMjc2NiA1MC43 NDkxMzQsMjQ5LjU4NzE2OSA3OC42MiwyNDkuNTUnIGZpbGw9JyNGRkZGRkYnIGZp bGwtcnVsZT0nbm9uemVybyc+PC9wYXRoPjwvZz48L3N2Zz4=");
    position: absolute;
    border-radius: 25%;
    height: var(--body-line-height);
    width: 0.875em;
    padding-left: 0.3125em;
    padding-right: 0.3125em;
    margin-left: -2em;
    background-color: #1DA1F2;
}
    .admonition.tweet g {
        fill: white;
    }
.admonition.tweet a {
    color: #1DA1F2;
}
.admonition.tweet a:hover {
    background-color: hsla(203, 89%, 53%, 0.1);
}
    #dark .admonition.tweet a:hover {
        background-color: hsla(203, 89%, 53%, 0.15);
    }


/********************
 ***  9. MENUBAR  ***
 ********************/

/**
 * The bar itself.
 */
#menubar {
    position: absolute;
    z-index: 10000;

    font-size: 1.3em;
    font-weight: 600;

    top: 0;
    width: 100%;
    text-align: center;

    border-bottom: 1px solid var(--widget-border-color);
    background-color: var(--widget-background-color);
    box-shadow: var(--shadow);
    overflow: hidden;
    transition: background-color var(--cubic-bezier-transition), border var(--cubic-bezier-transition), box-shadow var(--cubic-bezier-transition), opacity var(--cubic-bezier-transition);
}
    @supports (padding-left: env(safe-area-inset-left)) {
        #menubar {
            padding-left: env(safe-area-inset-left);
            padding-right: env(safe-area-inset-right);
        }
    }
    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
        #menubar {
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            backdrop-filter: saturate(180%) blur(20px);
        }
    }
    /**
     * For pages that request the design.oled=true property, pure blacks must
     * be applied (regardless of browser or site's theme setting). This must
     * too be reflected with a pure black menubar.
     */
    html.oled #menubar {
        background-color: rgba(0, 0, 0, 0.95);
        border-color: rgba(0, 0, 0, 0.2);
        overflow: visible;
    }
    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
        html.oled #menubar {
            background-color: rgba(0, 0, 0, 0.5);
        }
    }
/**
 * On small devices, the menu bar floats with fixed positioning above the
 * page. When this happens, the content needs a spacer so it "starts"
 * comfortably away from the floating menu. Otherwise, the content suddenly
 * "snaps" underneath the menu bar when it transitions from absolute to fixed
 * positioning upon scrolling.
 */
#menubar-height-offset {
    height: 10.9em;
    transition: height var(--cubic-bezier-transition)
}
/**
 * Part of the "magic" that core.js depends on for it to switch the menu from
 * a relative to floating element when the page scrolls to the designated
 * spot.
 */
#menubar.float {
    position: fixed;
    transform: translate(0, -5.7em);
}
#settings-popup.float {
    position: fixed;
    top: 3.85em;
}
/**
 * If the menu & friends are floating and the core script added the hint to
 * hide when scrolling on small screens into the DOM, we will respect that
 * hint here.
 *
 * "Why two seperate hints, one to hide if on small screens, and another if
 * scrolling on larger screens?" future me's asking. That's because the menu
 * bar on small screens vs. anything larger has entirely different heights, so
 * the amount a user should scroll before we consider hiding it must therefore
 * also be different in order to feel natural for both sizes.
 *
 * "Why not have the core script detect page size and have _it_ handle knowing
 * at what scroll position to slap a single "hide" hint in?" I again here
 * future me asking. What if the user changes the page size without scrolling?
 * CSS of course handles this with responsive design, but the core script
 * would be clueless it's happening unless I add a listener for it, and
 * honestly, at that point it's easier and arguably more clear to have two
 * different "hints" to handle it CSS-side.
 */
#menubar.float.hide-when-scrolling-on-small-screens,
#settings-popup.float.hide-when-scrolling-on-small-screens {
    opacity: 0;
    pointer-events: none;
}
#menubar a {
    color: var(--heavy-secondary-foreground-color);
}
    #menubar .active,
    #menubar a:hover {
        color: var(--accent-color);
        color: var(--accent-p3-color);
    }
    #menubar a:hover {
        background-color: unset !important;
    }
/**
 * The Happy iMac & signature
 * #logo is the element wrapping both components.
 */
#logo {
    margin-top: 1.414em;
    display: inline-block;
}
#imac {
    display: inline-block;
    vertical-align: top;
    width: 48px;
    height: 48px;
    /**
     * Without this, the closed eyes smile rendering gets screwed up in Safari.
     */
    -webkit-transform: translateZ(0);
}
    .imac-background-color {
        fill: white;
    }
    .imac-line-color {
        fill: rgba(30, 30, 30, 0.6);
    }
    .opened-eyes {
        opacity: 1;
    }
    .closed-eyes,
    .sunglasses {
        opacity: 0;
    }
        #logo:hover .opened-eyes {
            opacity: 0;
        }
        #logo:hover .closed-eyes {
            opacity: 1;
        }
    .smirk,
    #dark .opened-eyes {
        opacity: 0;
    }
    #dark .sunglasses {
        opacity: 1;
    }
        #dark #logo:hover .closed-eyes {
            opacity: 0;
        }
        #dark #logo:hover .smirk {
            opacity: 1;
        }
    .sunglasses,
    .closed-eyes,
    .opened-eyes,
    .smirk {
        transition: opacity var(--cubic-bezier-transition);
    }
    /**
     * The rainbow backsplash on hover
     */
    #logo:after {
        position: absolute;
        z-index: -1;
        top: 0.75rem;
        left: calc(50% - 8.5rem);
        height: 5.5rem;
        width: 5.5rem;
        opacity: 0;
        transform: scale(0.5);
        transition: opacity 600ms ease-in, transform 300ms ease-in;
        content: "";
        filter: blur(1em) saturate(200%) hue-rotate(0deg);
        background: conic-gradient(var(--red-color), var(--orange-color), var(--yellow-color), var(--green-color), var(--blue-color), var(--purple-color), var(--red-color));
        background: conic-gradient(var(--red-p3-color), var(--orange-p3-color), var(--yellow-p3-color), var(--green-p3-color), var(--blue-p3-color), var(--purple-p3-color), var(--red-p3-color));
        border-radius: 100%;
        animation: rainbowCycle 10s infinite linear;
        animation-play-state: paused;
    }
    #logo:hover:after {
        opacity: 0.5;
        transform: scale(1);
        animation-play-state: running;
    }
    @keyframes rainbowCycle {
        0% {
            filter: blur(1em) saturate(200%) hue-rotate(0deg);
        }
        100% {
            filter: blur(1em) saturate(200%) hue-rotate(-360deg);
        }
    }
#signature {
    height: 70px;
}
    #signature path {
        fill: var(--heavy-secondary-foreground-color);
    }
#logo:hover #signature path,
#signature.active path {
    fill: hsl(var(--accent-hsl-core));
    fill: color(var(--accent-p3-core));
}
@keyframes worksInSafari {
    from {
        fill: var(--heavy-secondary-foreground-color);
    }
    to {
        fill: hsl(var(--accent-hsl-core));
        fill: color(var(--accent-p3-core));
    }
}
/**
 * The bar's central "menu" contents: Articles, Projects, Contact, and a Settings Button
 */
#menubar menu {
    line-height: var(--header-line-height);
    margin-top: var(--gap);
    margin-bottom: var(--half-gap);
    margin: 0;
    text-align: center;
}
    #menubar menu li {
        display: inline-block;
        text-align: center;
        margin: 0;
        padding-bottom: 0.5em;
        padding-top: 0.725em;
        min-width: 24vw;
    }
        #menubar menu li a {
            text-align: center;
        }
        @media(min-width: 700px) {
            #menubar menu li a.nitro-link {
                margin-left: -1.5vw;
            }
        }
        @media(min-width: 900px) {
            #menubar menu li a.nitro-link {
                margin-left: -1.4em;
            }
        }
    #settings-button-wrapper {
        height: 1.5em;
    }
        #settings-button-wrapper button {
            width: auto;
            position: relative;
            top: -0.1em;
            margin: 0;
            vertical-align: middle;
            line-height: 1rem;
            padding-top: 0.2em;
            padding-bottom: 0.2em;
        }
        #settings-button-wrapper button svg {
            height: 1.3rem;
            padding: 0;
        }
        #settings-button-wrapper button svg path {
            fill: white;
        }
/**
 * The settings popup modal where theme & accent color can be adjusted.
 */
#settings-popup {
    font-weight: 600;
    color: var(--heavy-secondary-foreground-color);

    opacity: 0; /* Hidden unless shown by clicking #settings-button-wrapper */
    padding-top: 0.8125em;
    padding-bottom: 0.8125em;
    padding-left: var(--gap);
    padding-right: var(--gap);
    border: 1px solid var(--widget-border-color);
    background-color: var(--widget-background-color);
    box-shadow: var(--hover-shadow);
    border-radius: var(--half-gap);

    transition-property: opacity, transform, background-color, border;
    transition-duration: 250ms, 250ms, var(--cubic-bezier-time), var(--cubic-bezier-time);
    transition-timing-function: ease, ease, var(--cubic-bezier-curve), var(--cubic-bezier-curve);
    transform: scale(0.1) translateZ(0);
    transform-origin: 95% 0;

    float: right;
    position: absolute;
    text-align: center;
    left: 85%;
    margin-left: -252px;
    top: 11.25em;
    z-index: 10000;
}
    #settings-popup.show {
        transform: scale(1) translateZ(0);
        opacity: 1;
    }
    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
        #settings-popup {
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            backdrop-filter: saturate(180%) blur(20px);
        }
    }
/**
 * A "group" is the label and the controls associated to the label
 * in the settings popup.
 */
#settings-popup .group {
    margin-bottom: var(--half-gap);
    margin-top: var(--half-gap);
}
    .group ~ .group {
        margin-top: var(--gap) !important;
    }
/**
 * "Wells" are a kind of visual radio box for switching things like theme and
 * accent colors.
 */
.wells {
    margin-bottom: 0;
    margin-left: 0.25em;
    display: inline-block;
    vertical-align: middle;
    line-height: 1em;
}
    .wells li {
        display: inline-block;
        margin-left: 0.15em;
        margin-right: 0.15em;
        margin-bottom: 0;
    }
.well {
    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1), 0 4px 8px 0 rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.1);
    cursor: pointer;
    width: 1em;
    height: 1em;
    border-radius: 50%;
    transition: background-color var(--cubic-bezier-transition), box-shadow var(--cubic-bezier-transition), transform var(--cubic-bezier-transition), border var(--cubic-bezier-transition);
}
    /**
     * For reference...
     *   :active meaning "user is actively clicking or tapping the well"
     *   .active meaning "this is the well currently being applied/was previously selected"
     */
    .well:active {
        transform: var(--clicking-scale) !important;
    }
    .well:hover {
        transform: var(--hover-scale);
    }
    .well.appearance {
        border-color: #E5E5E5;
        border-radius: 0.25em !important;
    }
        .well.auto {
            background-image: linear-gradient(-45deg, rgb(36, 36, 36) 50%, white 50%);
        }
        .well.light {
            background-color: white;
        }
        .well.dark {
            background-color: rgb(36, 36, 36);
        }
    .well.blue {
        background-color: var(--blue-color);
        background-color: var(--blue-p3-color);
    }
        .well.active,
        .blue .well.active {
            box-shadow: 0 0em 0.5em 0em hsl(var(--blue-hsl-core));
        }
    .well.red {
        background-color: var(--red-color);
        background-color: var(--red-p3-color);
    }
        .red .well.active {
            box-shadow: 0 0em 0.5em 0em hsl(var(--red-hsl-core));
        }
    .well.orange {
        background-color: var(--orange-color);
        background-color: var(--orange-p3-color);
    }
        .orange .well.active {
            box-shadow: 0 0em 0.5em 0em hsl(var(--orange-hsl-core));
        }
    .well.yellow {
        background-color: var(--yellow-color);
        background-color: var(--yellow-p3-color);
    }
        .yellow .well.active {
            box-shadow: 0 0em 0.5em 0em hsl(var(--yellow-hsl-core));
        }
    .well.green {
        background-color: var(--green-color);
        background-color: var(--green-p3-color);
    }
        .green .well.active {
            box-shadow: 0 0em 0.5em 0em var(--green-color);
        }
    .well.purple {
        background-color: var(--purple-color);
        background-color: var(--purple-p3-color);
    }
        .purple .well.active {
            box-shadow: 0 0em 0.5em 0em hsl(var(--purple-hsl-core));
        }
    .well.pink {
        background-color: var(--pink-color);
        background-color: var(--pink-p3-color);
    }
        .pink .well.active {
            box-shadow: 0 0em 0.5em 0em hsl(var(--pink-hsl-core));
        }
/**
 * If just one of the settings wells is active, it looks visually more
 * pleasing to tighten the top and bottom margins.
 */
.ignore-accent-color #dark-mode-settings,
.force-dark-mode #accent-color-settings {
    margin-top: 0.325em;
    margin-bottom: 0.325em;
}
/**
 * If we're not showing the accent color wells, we need to adjust the popup to
 * reflect the smaller width so it still pops up perfectly underneath the
 * button.
 */
.ignore-accent-color #settings-popup {
    margin-left: -10.75em;
}
/**
 * For screens less than 400px wide:
 *   • Put the wells on their own row (no longer inline with their labels)
 *   • Shift the popup to accomidate that width change
 */
@media(max-width: 400px) {
    html:not(.ignore-accent-color) .wells {
        margin-left: 0;
        display: block;
        margin-top: var(--half-gap);
        text-align: left;
    }
    #settings-popup {
        margin-left: -150px;
        padding: var(--three-fourths-gap);
    }
        .ignore-accent-color #settings-popup {
            margin-left: -10.25em;
        }
        #settings-popup .group {
            margin-bottom: var(--half-gap);
        }
}
/**
 * For screens less than 324px wide:
 *   • Disable menu bar floating on scroll (remains relative)
 *   • Reflow menu items to each populate their own row (no more width available to remain inline)
 *   • Center the popup modal
 */
@media(max-width: 324px) {
    #menubar,
    #menubar.float {
        position: relative;
        transform: unset;
    }
    #menubar-height-offset {
        display: none;
    }
    #menubar menu li {
        display: block;
    }
        #menubar menu li#settings-button-wrapper {
            margin-bottom: var(--gap);
        }
    #menubar.float.hide-when-scrolling-on-small-screens,
    #settings-popup.show.float.hide-when-scrolling-on-small-screens {
        opacity: 1;
        pointer-events: auto;
    }
    #settings-popup {
        margin-left: 0;
        top: 21em;
        left: calc(50% + -97px);
        transform-origin: 50% 0;
    }
}
/**
 * For screens larger than 700px wide:
 *   • Enlarge every element & its padding
 *   • Absolutely position the logo to the left
 *   • Absolutely position the settings button to the right
 *   • Center the menu list
 */
@media(min-width: 700px) {
    #menubar {
        font-size: 1rem;
        text-align: left;
        position: fixed;
    }
        #menubar.float {
            transform: none;
        }
    #logo {
        position: absolute;
        padding-left: max(var(--gap), env(safe-area-inset-left));
        padding-top: 0.85em;
        margin-top: 0;
    }
        #logo:after {
            top: -0.6rem;
            left: -0.625rem;
            height: 4.5rem;
            width: 4.5rem;
        }
        #imac {
            width: 32px;
            height: 32px;
        }
        #signature {
            height: 47px;
        }
    #menubar menu li {
        min-width: 16vw;
        padding-top: var(--body-line-height);
    }
    #settings-button-wrapper {
        position: absolute;
        right: 0;
        top: 0;
        padding-right: max(1.25em, env(safe-area-inset-right));
        width: auto;
        min-width: unset !important;
        margin-left: -4.36em !important;
        padding-top: 1em !important;
    }
        @supports (margin-left: calc(-3.1em - env(safe-area-inset-right))) {
            #settings-button-wrapper {
                margin-left: calc(-3.1em - env(safe-area-inset-right)) !important;
            }
        }
        #settings-button-wrapper button {
            display: block;
            line-height: 0;
            padding-top: 0.3em;
            padding-bottom: 0.3em;
            padding-left: var(--half-gap);
            padding-right: var(--half-gap);
        }
        #settings-button-wrapper button svg {
            padding-bottom: 1px;
            height: 1rem;
        }
    #menubar.float.hide-when-scrolling-on-small-screens,
    #menubar.hide-when-scrolling-on-larger-screens,
    #settings-popup.show.float.hide-when-scrolling-on-small-screens,
    #settings-popup.show.hide-when-scrolling-on-larger-screens {
        opacity: 1;
        pointer-events: auto;
    }
    #menubar-height-offset {
        height: 0;
    }
    #settings-popup {
        position: fixed;
        margin-left: -417px;
        left: 100%;
    }
    .ignore-accent-color #settings-popup {
        margin-left: -14.2em;
    }
        #settings-popup,
        #settings-popup.float {
            top: 3.75em;
        }
}
/**
 * For screens larger than 900px wide:
 *   • Slight padding and margin adjustments to select elements, remains
 *     largely the same as the layout for medium screens.
 */
@media(min-width: 900px) {
    #logo:after {
        left: -0.7rem;
    }
    #menubar menu li {
        min-width: 8em;
        padding-top: 1.25em;
    }
    #settings-popup {
        margin-left: -455px;
    }
    #settings-button-wrapper {
        padding-top: 0.875em !important;
    }
        @supports (margin-left: calc(-3.55em - env(safe-area-inset-right))) {
            #settings-button-wrapper {
                margin-left: calc(-3.55em - env(safe-area-inset-right)) !important;
            }
        }
    .ignore-accent-color #settings-popup {
        margin-left: -14.25em;
    }
}


/*******************
 ***  10. CARDS  ***
 *******************/

/**
 * .cards is a required container or wrapper for .card elements Required
 * mostly to disable the global link element padding, margin, and background
 * color on linked cards.
 */
.cards.column {
    gap: var(--gap);
}
.cards a {
    padding: 0;
    margin: 0;
}
.cards a:hover {
    background-color: transparent !important;
}

.card {
    border-radius: 1em;
    border: 1px solid var(--widget-border-color);
    background-color: var(--widget-background-color);
    box-shadow: var(--shadow);
    display: inline-block;
    vertical-align: middle;
    overflow: hidden;
    text-align: center;
    width: 100%;
    transition: border var(--cubic-bezier-transition), box-shadow var(--cubic-bezier-transition), transform var(--cubic-bezier-transition), background-color var(--cubic-bezier-transition), color var(--cubic-bezier-transition);
}
    /**
     * Ensures metatdata associated to a given card (tags, date, etc.) are all
     * rendered inline together.
     */
    .card .metadata mark.tag,
    .card .metadata time {
        display: inline-block;
    }
    .card img,
    .card video {
        display: block;
        border-radius: 0 !important;
    }
    .card .logo {
        width: auto;
        height: 15vw;
        max-height: 6em;
        padding-top: 1em;
    }
    .card .label {
        margin-top: 1em;
        margin-bottom: 1em;
        padding-left: 1em;
        padding-right: 1em;
    }
    .card .logo ~ .label {
        margin-top: 0.5em;
    }
        .card .label .primary,
        .card .label .secondary {
            text-align: center;
            transition: color var(--cubic-bezier-transition);
        }
        .card .label .primary {
            font-weight: bold;
            margin-bottom: calc(var(--half-gap) / 2);
            color: var(--primary-foreground-color);
        }
        /**
         * Since the secondary text is very likely to wrap (and sometimes wrap
         * more than twice), we need the proper <p>/<body> line height
         * applied.
         */
        .card .label .secondary {
            line-height: var(--body-line-height);
            color: var(--heavy-secondary-foreground-color);
        }
    .card:hover {
        background-color: hsla(var(--accent-hsl-core), var(--highlight-background-opacity));
        background-color: color(var(--accent-p3-core) / var(--highlight-background-opacity));
        transform: var(--hover-scale);
        box-shadow: var(--hover-shadow);
    }
    .card:active {
        transform: var(--clicking-scale);
        box-shadow: var(--clicking-shadow);
    }
    .card:hover .label .primary {
        color: var(--accent-color);
        color: var(--accent-p3-color);
    }
    .card img,
    .card svg,
    .card video {
        transition: transform 800ms var(--cubic-bezier-curve), filter 800ms var(--cubic-bezier-curve);
    }
    .card:hover img,
    .card:hover svg,
    .card:hover video {
        transform: scale(1.05) translate(0, -2.5%);
    }
    #dark .column .card:hover img,
    #dark .column .card:hover svg,
    #dark .column .card:hover video {
        filter: brightness(1);
    }
    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
        .card {
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            backdrop-filter: saturate(180%) blur(20px);
        }
    }
/**
 * "Updates" and "Articles" are special groups of cards with minor styling
 * tweaks from default card stock.
 */
.updates .card .label .primary,
.updates .card .label .secondary,
.articles .card .label .primary,
.articles .card .label .secondary {
    text-align: left;
}
.updates a,
.articles a {
    width: 100%;
}


/*********************
 ***  11. FLEXBOX  ***
 *********************/

/* My very, very shitty flexbox system. It Works™ */

/**
 * To be applied at the document's root to:
 *   • Provide an expanded canvas (otherwise, <main> contents are restricted to the prose-friendly max-width)
 *   • Enable flexbox layout for <main>'s immediate children
 *   • Preserve prose (if any) max-width by means of applying the max-width to <article>, instead
 *
 * Examples of this in use include:
 *   • /
 *   • /about
 *   • /articles
 *   • /projects
 */
.expanded-page main {
    gap: var(--gap);
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
}
    @media(min-width: 700px) {
        .expanded-page main {
            max-width: 60em;
        }
        .expanded-page article {
            max-width: 34em;
        }
    }
    @media(min-width: 900px) {
        .expanded-page article {
            max-width: 35em;
        }
    }
/**
 * Flexbox rows. By default, on small screens contents of the row flow to a
 * single vertical column, and on larger screens contents stretch to fill the
 * row in accordance with their config.
 */
.row {
    width: 100%;
    gap: var(--gap);
    display: flex;
    justify-content: center;
    flex-direction: column;
    flex-wrap: wrap;
}
    /**
     * A "hint" to disable the reflow to a single vertical column on small
     * screens, instead attempting to render on a single row for as much as
     * physically possible.
     *
     * This does _not_ fully disable wrapping.
     */
    .row.resist-wrap {
        flex-direction: row;
    }
    /**
     * If a flexbox row is used in an article, we need to shrink the gap
     * (since we're tightly constrained by the prose <main> max-width) and
     * ensure items are aligned with the text baseline to better fit in.
     */
    article > .row {
        gap: 2%;
        align-items: flex-end;
        margin-bottom: var(--gap);
        justify-content: flex-start;
    }
    article > .row div {
        margin-top: 0;
        margin-bottom: 0;
    }
/**
 * Flexbox columns. They're greedy to fill horizontal space, but will shrink
 * if necessary.
 */
.column {
    display: flex;
    flex-direction: column;
    flex-basis: 0;
    flex-grow: 2;
    flex-shrink: 1;
    align-items: center;
}
    /**
     * To be used as a "buffer" specifically when a single column in a given
     * row needs invisible pressure to maintain width _as if_ it had siblings
     * (e.g. a row at the bottom of the Articles page on a large screen if
     * there's only one remaining article column to populate the row).
     */
    .column.whitespace {
        flex-grow: 1;
        /**
         * No need to be that "buffer" when everything in the row's wrapped to
         * a single column on small screens, anyways.
         */
        display: none;
    }
    .column.align-left {
        align-items: start;
    }
    /**
     * This seems nonsensical, but in practice every single time I use
     * flexbox, I end up needing on or more headers, and every single time I
     * ended up wishing that top margin GONE. So despite how wrong it feels,
     * if they show up in a column, ignore top margin in most cases.
     */
    .column > h1:first-child,
    .column > h2:first-child,
    .column > h3:first-child {
        margin-top: 0;
    }
    .column h4,
    .column h5,
    .column h6 {
        margin-top: 0;
        width: 100%;
    }
@media(min-width: 700px) {
    .row {
        flex-direction: row;
    }
    .column.whitespace {
        display: flex;
    }
}


/*******************
 ***  12. MEDIA  ***
 *******************/

img,
video {
    transition: border var(--cubic-bezier-transition), box-shadow var(--cubic-bezier-transition), transform var(--cubic-bezier-transition), filter var(--cubic-bezier-transition);
    /**
     * Makes <img> & <video> elements responsively resize the way my brain
     * expects them to (the elements will respectivelly not explode byeond
     * their "true" max widths, but will of course responsively shrink when
     * needed).
     * 
     * Yes, there's other ways to do this, and yes, I hate them all.
     * This Is The Way™.
     */
    max-width: 100%;
    /**
     * Rounded corners are the default look and feel, must be opted-OUT to
     * have sharp corners selectively applied only when necessary.
     */
    border-radius: var(--img-border-radius);
    /**
     * For displaying the alt text in case of broken media links.
     */
    color: var(--secondary-foreground-color);
    /**
     * ALWAYS include the padding & border in ALL element width+height
     * calculations. Doing this matches the way my brain works and eliminates
     * numerous issues (e.g. without this, "edge-to-edge" images with a border
     * causes the border to "spill" beyond the page's 100vh width, causing the
     * page to be considered horizonally scrollable. It's the worst.)
     */
    box-sizing: border-box;
}
    article > video {
        width: 100%;
    }
/**
 * Images tend to look insanely bright when in dark mode. A filter to slightly
 * decrease the brightness of all media until hovered by a mouse pointer or
 * tapped by a finger is a _really_ pleasing way to make late night scrolling
 * more visually soothing.
 *
 * Can only realistically do this effect on Safari because every other
 * rendering engine sucks ass.
 */
#dark.safari img,
#dark.safari video {
    filter: brightness(0.7);
}
    #dark.safari img:hover,
    #dark.safari video:hover,
    #dark.safari video:playing {
        filter: brightness(1) !important;
    }
/**
 * I use iOS app icons inline prose very heavily in music player showcases.
 * This is to make it fit in nicely, as if they were emoji.
 */
.app-icon {
    height: 1em;
    margin-top: 0.1em;
    vertical-align: text-top;
}
/**
 * The official iOS App Store "Download" button.
 */
.app-download {
    text-align: center;
    margin-top: 0;
    margin-bottom: var(--gap2);
}
    .app-download img {
        height: 40px;
        width: auto;
        cursor: pointer;
        border-radius: 0;
    }
/**
 * Screenshots of iOS widgets. Heavily used throughout the Music Player
 * Showcases
 */
.widget img {
    border-radius: 2.5vw;
    border: 1px solid var(--widget-border-color);
    box-shadow: var(--shadow);
}
    @media(min-width: 700px) {
        .widget img {
            border-radius: 1em;
        }
    }
.widget a {
    font-size: 0;
}
    .widget a img {
        font-size: var(--font-size);
    }
    .widget a:hover img {
        transform: var(--hover-scale);
        box-shadow: var(--hover-shadow);
    }
    .widget a:active img {
        transform: var(--clicking-scale);
        box-shadow: var(--clicking-shadow);
    }
.widget.small {
    flex: 0 1 18.1%;
}
.widget.medium-or-large {
    flex: 0 1 38.803764%;
}
/**
 * watchOS screenshots and screen recordings. Adds a nice faux screen bezel
 * emulating early-series Apple Watch hardware along with a close
 * representation of the early hardware screens' rounded corners.
 */
.watchos-screenshot img,
.watchos-screenshot video {
    background-color: #000000;
    box-shadow: var(--shadow);
    padding: 0.75em;
    border-radius: 1.5em;
}
    .watchos-screenshot a:hover img,
    .watchos-screenshot video:hover {
        transform: var(--hover-scale);
        box-shadow: var(--hover-shadow);
    }
    .watchos-screenshot a:active img {
        transform: var(--clicking-scale);
        box-shadow: var(--clicking-shadow);
    }
/**
 * macOS window screenshots and window recordings. Applies a dropshadow
 * similar to macOS's, along with rounded corners and window borders matching
 * the platform's look-and-feel.
 */
.macos-window-screenshot img,
.macos-window-screenshot video {
    box-shadow: 0 0.5em 2em rgba(30, 30, 30, 0.3);
    border: 1px solid rgba(50, 50, 50, 0.25);
    border-radius: 4px;
}
    .macos-screenshot a:hover img,
    .macos-screenshot video:hover {
        transform: var(--hover-scale);
        box-shadow: var(--hover-shadow);
    }
    .macos-screenshot a:active img {
        transform: var(--clicking-scale);
        box-shadow: var(--clicking-shadow);
    }
    #dark .macos-window-screenshot img,
    #dark .macos-window-screenshot video {
        box-shadow: 0 0.5em 2em #121212;;
        border-color: rgba(0, 0, 0, 0.5);
    }
@media(min-width: 700px) {
    .macos-window-screenshot img,
    .macos-window-screenshot video {
        border-radius: 7px;
    }
}
@media(min-width: 900px) {
    .macos-window-screenshot img,
    .macos-window-screenshot video {
        border-radius: 8px;
    }
}
/**
 * iOS screenshots and video are _mostly_ fine on their own, but for light-
 * mode screenshots there's not enough visual separation to distinguish the
 * screenshot from the page. A light border helps mitigate this, makes the
 * screenshots feel much more natural in prose.
 */
.ios-screenshot img,
.ios-screenshot video {
    border: 1px solid var(--widget-border-color);
    box-shadow: var(--shadow);
}
    .ios-screenshot a:hover img,
    .ios-screenshot video:hover {
        transform: var(--hover-scale);
        box-shadow: var(--hover-shadow);
    }
    .ios-screenshot a:active img {
        transform: var(--clicking-scale);
        box-shadow: var(--clicking-shadow);
    }
/**
 * Permalink "chains" icon in article metadata
 */
.permalink {
    height: 0.7em;
}
    .permalink path {
        fill: var(--secondary-foreground-color);
        stroke: transparent;
    }
/**
 * For emoji rendered inline from Markdown via GitHub syntax (e.g. :+1:)
 */
img.emoji {
    border-radius: 0;
    vertical-align: text-top;
}
/**
 * For emoji used as if they were list-style-type (commonly used in the Music Player Showcases)
 */
ul.emoji img.emoji,
ol.emoji img.emoji,
dt .emoji {
    margin-right: 0.2em;
    height: 0.75em;
    width: auto;
    vertical-align: baseline;
}
/**
 * Ability to disable rounded corners on a per-image basis.
 */
.no-border-radius,
.no-border-radius img {
    border-radius: 0 !important;
}
/**
 * Honestly, still valuable. Sometimes you just want something to scale to
 * half the article max-width! Rename to half-stretch/half-size/half-fill or
 * something, restrict-growth-to-half sucks ass.
 */
.restrict-growth-to-half img {
    height: auto;
    width: 50%;
}
/**
 * By default, images & video don't have shadows applied. It must be assigned
 * when/if appropriate.
 */
.shadow img,
.shadow video,
img.shadow,
video.shadow {
    box-shadow: var(--shadow);
}
    .shadow a:hover img,
    .shadow video:hover,
    a:hover img.shadow,
    video:hover.shadow {
        transform: var(--hover-scale);
        box-shadow: var(--hover-shadow);
    }
    .shadow a:active img,
    a:active img.shadow {
        transform: var(--clicking-scale);
        box-shadow: var(--clicking-shadow);
    }
/**
 * Default SVG colors (still requires opt-in to be applied)
 */
svg .stroke-color {
    stroke: var(--heavy-secondary-foreground-color);
    transition: stroke var(--cubic-bezier-transition);
}
svg .fill-color {
    fill: var(--heavy-secondary-foreground-color);
    transition: fill var(--cubic-bezier-transition);
}
path {
    transition: fill var(--cubic-bezier-transition);
}
/**
 * <figure> are any image or video accompanied with a caption.
 *
 * Also frustratingly syntax highlighted code blocks, but those will be
 * handled explicitly in the Code section.
 */
figure {
    text-align: center;
    margin-top: var(--gap);
    margin-bottom: var(--gap2);
    line-height: 0;
}
    /**
     * Ensure linked <figure> media doesn't artificially push <figcaption>
     * down
     */
    figure > a {
        line-height: 0;
        text-decoration: none;
    }
    figure > a:hover {
        background-color: transparent !important;
    }
figcaption {
    font-size: var(--h6-size);
    padding-left: 10%;
    padding-right: 10%;
    margin-top: var(--gap);
    color: var(--secondary-foreground-color);
    transition: color var(--cubic-bezier-transition);
    /**
     * Ensures <figcaption> never spills beyond the <main> max-width
     * _even if its <figure> media does with .edge-to-edge!_
     *
     * Having the prose continue to maintain respect the global max-width
     * preserves its readability.
     */
    max-width: 33rem;
    /**
     * Ensures <figcaption> remains centered, despite being a display block.
     */
    text-align: center;
    margin-left: auto;
    margin-right: auto;
}
    /**
     * Additional margin-top to allow more space for classes with drop-shadows
     * (otherwise, the drop-shadow falls over the figcaption, feels crowded).
     */
    .shadow figcaption,
    .watchos-screenshot figcaption,
    .ios-screenshot figcaption {
        margin-top: calc(var(--gap) + var(--h6-size));
    }
    /**
     * The heaviest drop-shadow class of them all, a substantial amount of
     * additional margin is required to have <figcaption> comfortably outside
     * of the shadow.
     */
    .macos-window-screenshot figcaption {
        margin-top: calc(var(--gap) + 1.5em);
    }
    @media(min-width: 700px) {
        figcaption {
            max-width: 34rem;
        }
    }
    @media(min-width: 900px) {
        figcaption {
            max-width: 35rem;
        }
    }
figure,
article div:has(img),
article div:has(video) {
    margin-top: var(--gap);
    margin-bottom: var(--gap2);
}
/**
 * HTML elements naturally come with a line-height, which fucks with image
 * bottom margins when used in prose (artifically "extends" the bottom margin
 * of all media in prose slightly, it sucks).
 *
 * This zeroes out the line-height of media in prose so the bottom margins
 * actually match expectations.
 *
 * The last declaration is particularly special. "True" markdown images are
 * generated with a surrounding <p> element, which again fucks with their
 * margins (if the images were "just" rendered to belong to the root <article>
 * element, this wouldn't be an issue). So, JUST if a <p> has a single
 * immediate <img> child is this zeroing out applied. Otherwise, this screws
 * with when I actually want to use images inline alongside prose, like with
 * emoji.
 */
article div:has(img),
article figure:has(img),
article p:has(> img:only-child) {
    line-height: 0;
    text-align: center;
}
article div > a,
article figure > a {
    line-height: 0;
}
article div > a:hover,
article figure > a:hover {
    background-color: unset !important;
}
/**
 * By default, all media is restricted to the <main> max-width (optimized for
 * reading prose). However, sometimes having media grow beyond these
 * artificial limitations is desirable, and for those cases, the .edge-to-edge
 * class can be set on the wrapping element to have the entire item "grow" a
 * small, medium, or large amount.
 *
 * .hero-banner are simply a flavor of edge-to-edge that are meant to sit
 * right at the top of articles. Otherwise, they are largely identical.
 */
.edge-to-edge {
    margin-top: var(--gap);
    margin-bottom: var(--gap2);
}
.edge-to-edge,
.hero-banner {
    text-align: center;
    max-width: 1600px;
    width: 100vw;
    margin-left: -20vw;
    margin-right: -20vw;
}
    .edge-to-edge img,
    .edge-to-edge video {
        border-radius: 0;
    }
    .edge-to-edge.infinite {
        max-width: unset;
        margin-left: -36vw;
        margin-right: -36vw;
    }
.hero-banner {
    display: inline-block;
    margin-top: -2.75em !important;
    margin-bottom: 0;
    max-width: 2000px;
}
    .hero-banner img,
    .hero-banner video {
        border-radius: 0;
    }
@media(min-width: 700px) {
    .hero-banner {
        margin-top: -1.775em !important;
    }
    .edge-to-edge,
    .hero-banner {
        width: 100vw;
    }
        .hero-banner,
        .edge-to-edge {
            margin-left: -35vw;
            margin-right: -35vw;
        }
    .edge-to-edge.small {
        margin-left: 0;
        margin-right: 0;
        width: 100%;
    }
    .edge-to-edge.medium {
        max-width: 812px;
    }
}
@media(min-width: 900px) {
    .hero-banner {
        margin-top: -1.975em !important;
    }
    .edge-to-edge.medium {
        max-width: 1000px;
        width: 100vw;
    }
    .edge-to-edge.large {
        margin-left: -35vw;
        margin-right: -35vw;
        width: 100vw;
        max-width: 1303px;
    }
}
/**
 * For enabling border-radius as different flavors of .edge-to-edge grow
 */
@media(min-width: 2001px) {
    .hero-banner img,
    .hero-banner video {
        border-bottom-left-radius: 0.25em;
        border-bottom-right-radius: 0.25em;
    }
}
@media(min-width: 700px) {
    .edge-to-edge.small img,
    .edge-to-edge.small video {
        border-radius: var(--img-border-radius);
    }
}
@media(min-width: 813px) {
    .edge-to-edge.medium img,
    .edge-to-edge.medium video {
        border-radius: var(--img-border-radius);
    }
}
@media(min-width: 1304px) {
    .edge-to-edge.large img,
    .edge-to-edge.large video {
        border-radius: var(--img-border-radius);
    }
}
@media(min-width: 1601px) {
    .edge-to-edge img,
    .edge-to-edge video {
        border-radius: var(--img-border-radius);
    }
}
/**
 * An array is a set of 1-3 media items in a row. It can either be strictly
 * inline (bound to <main>'s prose max-width) or spill beyond via .edge-to-
 * edge. Handy for iOS screenshots, a trio of related images, etc. Heavily
 * used throughout my article archive.
 *
 * An array of 1 item is indeed valid and still valuable to achive visual
 * consistency with arrays of 2 or 3 items (so "just" a single iOS screenshot
 * doesn't look wildly out-of-place alongside arrays of iOS screenshots
 * elsewhere in a given article).
 */
.array img,
.array video {
    border-radius: var(--img-border-radius) !important;
    width: 28%;
    margin-left: min(var(--half-gap), 1.75vw);
    margin-right: min(var(--half-gap), 1.75vw);
}
.edge-to-edge.array img,
.edge-to-edge.array video {
    width: 28vw;
    margin-left: 1.75vw;
    margin-right: 1.75vw;
}
@media(min-width: 900px) {
    .edge-to-edge.array img,
    .edge-to-edge.array video {
        max-width: 17rem;
        margin-left: min(var(--gap), 1.75vw);
        margin-right: min(var(--gap), 1.75vw);
    }
}
/**
 * "Why not display: block? Then your margins are much easier to manage!"
 * 
 * Because the .edge-to-edge class requires being inline-block to function,
 * and in practice mix-and-matching block & inline-block for "the same"
 * elements (media) caused WAY more headaches than they prevented.
 *
 * It seems counterintuitive, but please trust past me: having all media
 * elements sport the same display setting streamlines everything and makes
 * them overall much easier to handle.
 * 
 */
.shadow,
.edge-to-edge,
.macos-window-screenshot,
.array,
.restrict-growth-to-half,
.watchos-screenshot {
    display: inline-block;
}
/**
 * Buuuuut, having an image with a shadow at the start of an article is an
 * extremely common usage pattern, and that particular application looks far
 * better when displayed as a block. In that specific scenario, override to be
 * a block, instead.
 */
header + .shadow,
header + .admonition + .shadow {
    display: block;
}

/******************
 ***  13. CODE  ***
 ******************/

pre,
code {
    /* Many thanks to Florian Klampfer https://qwtel.com/posts/software/the-monospaced-system-ui-css-font-stack/ */
    font-family: ui-monospace,
                 Menlo, Monaco,
                 "Cascadia Mono",
                 "Segoe UI Mono",
                 "Roboto Mono",
                 "Oxygen Mono",
                 "Ubuntu Monospace",
                 "Source Code Pro",
                 "Fira Mono",
                 "Droid Sans Mono",
                 "Courier New",
                 monospace;
    letter-spacing: -0.05em;
    color: var(--heavy-primary-foreground-color);
    transition: background-color var(--cubic-bezier-transition), color var(--cubic-bezier-transition), border-color var(--cubic-bezier-transition);
}
pre {
    font-size: 0.75em;
    line-height: 1.375em;
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
    word-break: normal;
}
    pre::selection,
    code::selection,
    pre ::selection {
        background: hsla(var(--accent-hue), 10%, 35%, .975);
    }
    #dark pre::selection,
    #dark code::selection,
    #dark pre ::selection {
        background: hsla(var(--accent-hue), 10%, 20%, .975);
    }
    pre code {
        font-size: inherit;
        display: inline-block;
        background-color: transparent;
        border: unset;
        padding: 0;
    }
    /**
     * When syntax highlighting is applied, each cluster colored the same way
     * are wrapped in colored <span>. We want that to be transitioned just
     * like regular text would on theme changes.
     */
    pre span {
        transition: color var(--cubic-bezier-transition);
    }
    /**
     * An optional decorator to have codeblocks "wrap" text instead of
     * preserving the defined style and introducing scrolling to compensate.
     */
    pre.wrap,
    pre.wrap code {
        white-space: normal !important;
        word-break: break-word;
    }
/**
 * INLINE CODE SNIPPETS
 */
code {
    font-size: 0.9em;
    padding: 0 0.325em;
    background-color: var(--code-background-color);
    border: 1px solid var(--code-border-color);
    border-radius: 0.25em;
    word-wrap: break-word;
}
    code a {
        padding: 0 0.325em !important;
        margin-left: -0.325em !important;
        margin-right: -0.325em !important;
    }
/**
 * STANDARD CODEBLOCKS
 * These are codeblocks declared in Markdown the "usual" way (with backticks or
 * indentation, which result in a div.highlighter-rouge element in the DOM) or
 * with explicitly declared <pre> elements. These are always rendered with
 * respect to <main>'s prose max-width.
 */
article > pre,
div.highlighter-rouge {
    margin-top: 0;
    margin-bottom: var(--gap);
    background-color: var(--code-background-color);
    border: 1px solid var(--code-border-color);
    transition: background-color var(--cubic-bezier-transition), color var(--cubic-bezier-transition), border-color var(--cubic-bezier-transition);
}
    article > pre,
    div.highlighter-rouge,
    div.highlighter-rouge > div.highlight {
        border-radius: var(--img-border-radius);
    }
    article > pre,
    div.highlighter-rouge pre.highlight {
        padding-top: var(--half-gap);
        padding-bottom: var(--half-gap);
        padding-left: var(--three-fourths-gap);
        padding-right: var(--three-fourths-gap);
    }
        @media(min-width: 700px) {
            article > pre,
            div.highlighter-rouge pre.highlight {
                padding: var(--gap);
            }
        }
    div.highlighter-rouge pre.highlight {
        display: block;
        overflow-x: scroll;
    }
    /**
     * Code blocks in lists are more visually pleasing when they're tigheter than
     * they otherwise would to the prose.
     */
    li div.highlighter-rouge {
        margin-top: var(--half-gap);
        margin-bottom: var(--half-gap);
    }
/**
 * EDGE-TO-EDGE CODEBLOCKS
 * In contrast, these are specially declared, nonstandard Markdown codeblocks
 * (with the {% highlight <language> %} syntax). When declaring a codeblock
 * with _this_ markup, the codeblock is instead rendered as if it was wrapped
 * in an .edge-to-edge.infinite element, so the codeblock spans the screen.
 */
article > figure.highlight {
    margin-top: var(--gap);
    margin-bottom: var(--gap2);
    background-color: var(--code-background-color);
    border-top: 1px solid var(--code-border-color);
    border-bottom: 1px solid var(--code-border-color);
    transition: background-color var(--cubic-bezier-transition), color var(--cubic-bezier-transition), border-color var(--cubic-bezier-transition);
}
    /**
     * Defining the "infinite edge-to-edge" behavior for codeblocks declared with the
     * {% highlight <language> %} syntax (see above)
     */
    article > figure.highlight {
        /**
         * Mobile browsers try to be "smart" about dynamically increasing the font
         * size of elements which it detects have massive widths. Unfortunately,
         * it incorrectly detects my infinite edge-to-edge elements as these kinds
         * of elements and artificially enlarges the contents, more or less
         * breaking the element. These critical settings disable this behavior.
         */
        -webkit-text-size-adjust: 100%;
        -moz-text-size-adjust: 100%;
        -ms-text-size-adjust: 100%;
        text-size-adjust: 100%;

        display: inline-block;
        padding-top: var(--gap);
        padding-bottom: var(--gap);
        overflow-x: scroll;
        width: 100vw;
        border-radius: 0;
        margin-left: -50vw;
        margin-right: -50vw;
    }
        @media(min-width: 700px) {
            article > figure.highlight {
                padding-top: var(--gap2);
                padding-bottom: var(--gap2);
            }
        }
    /**
     * For small screens, just apply the same left & right padding as the
     * <main>'s prose's padding.
     */
    article > figure.highlight pre {
        width: 100%;
        display: inline-block;
    }
    article > figure.highlight pre code {
        padding-left: max(var(--rem-gap), env(safe-area-inset-right));
        padding-right: max(var(--rem-gap), env(safe-area-inset-right));
    }
        /**
         * For screens 500px or wider, we both want infinite code blocks to
         * "float" in the center, allow a scroll view to continue reading long
         * lines without wrapping, and a text "start" that exactly matches the
         * prose's text start. Each media query below achives this for each
         * respective screen size.
         *
         * Demonstration:
         * ┌──────────────────────────┐
         * │   I'm some prose.        │
         * │                          │
         * ├──────────────────────────┤
         * │   INFINITE code block, wo│
         * │   Scroll to continue read│
         * │   so many long lines, con│
         * ├──────────────────────────┤
         * │                          │
         * │   Prose resumes!         │
         * └──────────────────────────┘
         */
        @media(min-width: 500px) {
            article > figure.highlight pre {
                max-width: 33rem;
            }
            article > figure.highlight pre code {
                padding-left: 0;
                padding-right: var(--gap);
            }
        }
        @media(min-width: 700px) {
            article > figure.highlight pre {
                max-width: 34rem;
            }
        }
        @media(min-width: 900px) {
            article > figure.highlight pre {
                max-width: 35rem;
            }
        }
/**
 * ART CODEBLOCKS
 * The final kind of codeblock supported is .ascii-art codeblocks, which are
 * rendered exactly the same as "traditional" Markdown codeblocks, but with
 * substantially tighter line-heights and centered text to better showcase the
 * art.
 */
pre.ascii-art {
    overflow-x: scroll;
}
    pre.ascii-art code {
        line-height: 1.05em;
        margin-left: 0;
        margin-right: 0;
        width: 100%;
        text-align: center;
    }


/********************************
 ***  14. FOOTER & FOOTNOTES  ***
 ********************************/

/**
 * All articles end with a ⌘ stamp which link to my "About" page.
 */
#farewell-stamp {
    margin-top: var(--gap2);
    text-align: center;
}
/**
 * At present, there's not much in the footer "proper" but a single Subscribe
 * button. Other calls to action would go here if the need ever arose.
 */
footer {
    margin-top: var(--gap2);
    width: 100%;
}
/**
 * This contains the list of footnotes all together at the end of the article.
 */
.footnotes {
    font-size: var(--h6-size);
}
/**
 * The BigFoot.js footnote element, which offers a substantially improved
 * footnote experience where you can read the footnote in a handy popup
 * without having to change your position in the article at all.
 */
.bigfoot-footnote__wrapper,
.bigfoot-footnote__content,
.bigfoot-footnote {
    background-color: transparent;
    border: none;
}
.bigfoot-footnote__button {
    font-size: var(--h6-size);
}
.bigfoot-footnote__content {
    max-height: 25em !important;
}
.bigfoot-footnote,
.bigfoot-footnote__tooltip {
    border: 1px solid var(--bigfoot-popup-border-color);
    box-shadow: var(--hover-shadow);
}
.bigfoot-footnote__content,
.bigfoot-footnote__tooltip {
    background-color: var(--widget-background-color);
}
    @supports ((-webkit-backdrop-filter: saturate(180%) blur(20px)) or (backdrop-filter: saturate(180%) blur(20px))) {
        .bigfoot-footnote__content,
        .bigfoot-footnote__tooltip {
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            backdrop-filter: saturate(180%) blur(20px);
        }
    }
.bigfoot-footnote__button {
    background-color: var(--accent-color);
    background-color: var(--accent-p3-color);
    box-shadow: inset 0 .325em 0.65em rgba(255, 255, 255, 0.375), 0 0.215em 0.435em -0.1em hsla(var(--accent-hue), var(--accent-saturation), calc(var(--accent-lightness) - 3%), 0.2);
}
    .bigfoot-footnote__button:hover {
        box-shadow: inset 0 .325em 0.65em rgba(255, 255, 255, 0.5), 0 .325em 0.65em -0.325em hsla(var(--accent-hue), calc(var(--accent-saturation) + 10%), calc(var(--accent-lightness) + 2%), 0.375);
    }
    .bigfoot-footnote__button:active,
    .bigfoot-footnote__button.is-active {
        box-shadow: inset 0 .325em 0.65em rgba(0, 0, 0, 0.125), 0 0.215em 0.435em -0.1em hsla(var(--accent-hue), var(--accent-saturation), calc(var(--accent-lightness) - 8%), 0.2);
    }
    #dark .bigfoot-footnote__button {
        box-shadow: inset 0 .325em 0.65em rgba(255, 255, 255, 0.375), 0 0.215em 0.435em -0.1em hsla(var(--accent-hue), var(--accent-saturation), calc(var(--accent-lightness) - 8%), 0.2);
    }
    #dark .bigfoot-footnote__button:hover {
        box-shadow: inset 0 .325em 0.65em rgba(255, 255, 255, 0.375), 0 .325em 0.65em -0.325em hsla(var(--accent-hue), calc(var(--accent-saturation) + 10%), calc(var(--accent-lightness) - 3%), 0.375);
    }
    #dark .bigfoot-footnote__button:active,
    #dark .bigfoot-footnote__button.is-active {
        box-shadow: inset 0 .325em 0.65em rgba(0, 0, 0, 0.125), 0 0.215em 0.435em -0.1em hsla(var(--accent-hue), var(--accent-saturation), calc(var(--accent-lightness) - 13%), 0.2);
    }


/********************************
 ***  15. SHOW/HIDE SWITCHES  ***
 ********************************/

.show-when-light {
    display: inline-block !important;
}
    picture.show-when-light {
        display: block !important;
    }
    #dark .show-when-light {
        display: none !important;
    }
    .row.show-when-light,
    .column.show-when-light {
        display: flex !important;
    }
    figure > .show-when-light,
    div > .show-when-light {
        display: inline !important;
    }
.show-when-dark {
    display: none !important;
}
    #dark .show-when-dark {
        display: inline-block !important;
    }
    #dark picture.show-when-dark {
        display: block !important;
    }
    #dark .row.show-when-dark,
    #dark .column.show-when-dark {
        display: flex !important;
    }
    #dark figure > .show-when-dark,
    #dark div > .show-when-dark {
        display: inline !important;
    }


/*********************
 ***  16. BUTTONS  ***
 *********************/

/**
 * Both true <button> elements and links tagged with the .button class are
 * equivalently styled to allow using either is appropriate for the context.
 *
 * Yes, some say styling anything other than a "real" button as a button is
 * technically bad practice, but they're wrong. Don't @ me.
 */
button,
.button {
    font-size: 1em;
    font-weight: 700;
    text-align: center;

    width: auto;
    display: inline-block;
    box-sizing: border-box;
    cursor: pointer;
    outline: none !important;

    border-radius: var(--rem-half-gap);
    border: none;
    
    padding-top: var(--fourth-gap);
    padding-bottom: var(--fourth-gap);
    padding-left: var(--gap);
    padding-right: var(--gap);
    margin: 0;

    color: white !important;
    background-color: hsl(var(--accent-hue), var(--accent-saturation), calc(var(--accent-lightness) - 3%));
    background-color: color(display-p3 var(--accent-r) var(--accent-g) calc(var(--accent-b)));
    box-shadow: inset 0 .65em 1.3em rgba(255, 255, 255, 0.375), 0 0.43em 0.87em -0.2em hsla(var(--accent-hue), var(--accent-saturation), calc(var(--accent-lightness) - 3%), 0.2);
    transition: background-color var(--cubic-bezier-transition), box-shadow var(--cubic-bezier-transition), transform var(--cubic-bezier-transition);
}
    button:hover,
    .button:hover {
        transform: var(--hover-scale);
        background-color: hsl(var(--accent-hue), var(--accent-saturation), calc(var(--accent-lightness) + 2%)) !important;
        background-color: color(display-p3 var(--accent-r) var(--accent-g) calc(var(--accent-b))) !important;
        box-shadow: inset 0 .65em 1.3em rgba(255, 255, 255, 0.45), 0 .65em 1.3em -0.65em hsla(var(--accent-hue), calc(var(--accent-saturation) + 10%), calc(var(--accent-lightness) + 2%), 0.375);
    }
    button:active,
    .button:active,
    button.active,
    .button.active {
        transform: var(--clicking-scale) !important;
        background-color: hsl(var(--accent-hue), var(--accent-saturation), calc(var(--accent-lightness) - 8%)) !important;
        background-color: color(display-p3 var(--accent-r) var(--accent-g) calc(var(--accent-b))) !important;
        box-shadow: inset 0 .65em 1.3em rgba(0, 0, 0, 0.125), 0 0.43em 0.87em -0.2em hsla(var(--accent-hue), var(--accent-saturation), calc(var(--accent-lightness) - 8%), 0.2);
    }
    #dark button,
    #dark .button {
        background-color: hsl(var(--accent-hue), var(--accent-saturation), calc(var(--accent-lightness) - 8%));
        box-shadow: inset 0 .65em 1.3em rgba(255, 255, 255, 0.2), 0 0.43em 0.87em -0.2em hsla(var(--accent-hue), var(--accent-saturation), calc(var(--accent-lightness) - 8%), 0.2);
    }
    #dark button:hover,
    #dark .button:hover {
        background-color: hsl(var(--accent-hue), var(--accent-saturation), calc(var(--accent-lightness) - 3%)) !important;
        box-shadow: inset 0 .65em 1.3em rgba(255, 255, 255, 0.2), 0 .65em 1.3em -0.65em hsla(var(--accent-hue), calc(var(--accent-saturation) + 10%), calc(var(--accent-lightness) - 3%), 0.375);
    }
    #dark button:active,
    #dark .button:active,
    #dark button.active,
    #dark .button.active {
        background-color: hsl(var(--accent-hue), var(--accent-saturation), calc(var(--accent-lightness) - 13%)) !important;
        box-shadow: inset 0 .65em 1.3em rgba(0, 0, 0, 0.1), 0 0.43em 0.87em -0.2em hsla(var(--accent-hue), var(--accent-saturation), calc(var(--accent-lightness) - 13%), 0.2);
    }
    /**
     * Whatever is in the button, ensure it's always centered.
     */
    button > *,
    .button > * {
        text-align: center;
    }
    /**
     * Buttons like the "Subscribe" button have vector icons inline to the
     * left of the label. This ensures there's padding between the two and
     * that the vector is a comfortable height relative to the label.
     */
    .button svg,
    button svg {
        height: 0.75em;
        padding-right: var(--fourth-gap);
    }
    /**
     * These are typically transparent pngs, no need for the border-radius.
     */
    button img,
    .button img {
        border-radius: 0;
    }
    /**
     * Rarely, rastor images are used in buttons, and on the off-chance they
     * are, prevent the image "dimming" that would otherwise be applied in
     * dark mode since it's a control.
     */
    #dark button img,
    #dark .button img {
        filter: brightness(1);
    }
    .button.disabled,
    button.disabled,
    button:disabled {
        cursor: not-allowed;
    }
/**
 * These external link buttons are typically used on the /social page and
 * /contact pages. They're larger and are thus more visually pleasing with a
 * heavier radius.
 */
.social .button {
    border-radius: var(--gap);
}
/**
 * A special kind of block list just for buttons. By default, the buttons
 * within don't have any width restrictions / have automatic widths and are
 * inline with each other.
 */
ul.button-group {
    list-style-type: none;
    display: block;
    padding: 0;
    margin-left: 0;
    margin-right: 0;
    text-align: center;
}
    ul.button-group.left {
        text-align: left;
    }
        ul.button-group.left li:first-child {
            margin-left: 0;
        }
    ul.button-group li {
        display: inline-block;
        margin-top: var(--half-gap);
        margin-bottom: var(--half-gap);
    }
    ul.button-group a {
        display: block;
    }
    ul.button-group a:hover {
        background: unset !important;
    }
/**
 * If the group is flagged as .fixed, then the following opinionated widths
 * are forcibly applied to the buttons in the group:
 *
 *   Screens <324px wide: 100% width (so they're all stacked on top of each other)
 *   Screens <700px wide: 45% width (so they're side-by-side in two vertical columns)
 *   Any larger screens: 30% width (so there's three vertical columns of buttons)
 */
ul.button-group.fixed li {
    margin-left: 1.5vw;
    margin-right: 1.5vw;
    width: 45%;
}
    ul.button-group.fixed li button,
    ul.button-group.fixed li .button {
        width: 100%;
    }
    /**
     * For teeny screens less than 324px wide.
     */
    @media(max-width: 324px) {
        ul.button-group.fixed li {
            width: 100%;
            display: block;
            margin-left: 0;
            margin-right: 0;
            margin-top: var(--three-fourths-gap);
            margin-bottom: var(--three-fourths-gap);
        }
    }
    /**
     * For screens larger than 700px wide.
     */
    @media(min-width: 700px) {
        ul.button-group li {
            width: auto;
        }
        ul.button-group.fixed li {
            margin-left: 0.325em;
            margin-right: 0.325em;
            width: 30%;
        }
    }
